<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Fluid.HeatExchangers.DXCoils.Examples</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with example of DX cooling coil models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE Examples<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils"
>Buildings.Fluid.HeatExchangers.DXCoils</a>.Examples</h2>
<p>
<b>Package with example of DX cooling coil models</b><br>
</p>
<h3>Information</h3>

This package contains examples that use DX cooling coil models.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_ExamplesPackage.html#Modelica.Icons.ExamplesPackage"
>Modelica.Icons.ExamplesPackage</a> (Icon for packages containing runnable examples).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.MultiStage" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.MultiStage"
>MultiStage</a>
</td>
<td>Test model for multi stage DX coil</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeed" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeed"
>SingleSpeed</a>
</td>
<td>Test model for single speed DX coil</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.VariableSpeed" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.VariableSpeed"
>VariableSpeed</a>
</td>
<td>Test model for variable speed DX coil</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidation" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidation"
>SingleSpeedValidation</a>
</td>
<td>Validation model for single speed DX coil with PLR=1</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidationPLR" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidationPLR"
>SingleSpeedValidationPLR</a>
</td>
<td>Validation model for single speed DX coil with PLR=1</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha7cc4d6872503cffdolingS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling"
>SpaceCooling</a>
</td>
<td>Space cooling with DX coils</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha69a86294cda8b274urvesS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_PerformanceCurves.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves"
>PerformanceCurves</a>
</td>
<td>Package with sevral performance curves</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE MultiStage<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.MultiStage" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.MultiStage"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples</a>.MultiStage</h2>
<p>
<b>Test model for multi stage DX coil</b>
<br>
<br><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.MultiStage">
</p>
<h3>Information</h3>

<p>
This is a test model for 
<a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.MultiStage"
>
Buildings.Fluid.HeatExchangers.DXCoils.MultiStage</a>.
The model has open-loop control and time-varying input conditions.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>datCoi.sta[datCoi.nSta].nomV...</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>1000</td><td>Pressure drop at m_flow_nominal [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> MultiStage <span style="color: #006400">&quot;Test model for multi stage DX coil&quot;</span>
  <span style="color: blue">package</span> Medium = <a href="Buildings_Media_GasesConstantDensity_MoistAirUnsaturated.html#Buildings.Media.GasesConstantDensity.MoistAirUnsaturated"
>Buildings.Media.GasesConstantDensity.MoistAirUnsaturated</a>;
  <span style="color: blue">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal = datCoi.sta[datCoi.nSta].nomVal.m_flow_nominal <span style="color: #006400">
    &quot;Nominal mass flow rate&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> dp_nominal = 1000 <span style="color: #006400">
    &quot;Pressure drop at m_flow_nominal&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=1,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    T=293.15) <span style="color: #006400">&quot;Sink&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sou(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=1,
    p(displayUnit=&quot;Pa&quot;) = 101325 + dp_nominal,
    use_T_in=true,
    use_p_in=true,
    T=299.85) <span style="color: #006400">&quot;Source&quot;</span>;
  <span style="color: blue">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</a> system;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.MultiStage"
>Buildings.Fluid.HeatExchangers.DXCoils.MultiStage</a> mulStaDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=dp_nominal,
    datCoi=datCoi,
    T_start=datCoi.sta[1].nomVal.TEvaIn_nominal,
    show_T=true,
    from_dp=true) <span style="color: #006400">&quot;Multispeed DX coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> TEvaIn(
    duration=600,
    startTime=2400,
    height=-5,
    offset=273.15 + 23) <span style="color: #006400">&quot;Temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> p(
    duration=600,
    startTime=600,
    height=dp_nominal,
    offset=101325) <span style="color: #006400">&quot;Pressure&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Data.Generic.DXCoil</a>
                datCoi(nSta=4, sta={
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=900/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-12000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=0.9),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_I</span>()),
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1200/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-18000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.2),
        perCur=
         <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_I</span>()),
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1800/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-21000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.5),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_II</span>()),
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=2400/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-30000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.8),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_III</span>())}) <span style="color: #006400">
    &quot;Coil data&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.IntegerTable"
>Modelica.Blocks.Sources.IntegerTable</a> speRat(table=[
    0.0,0.0;
    900,1;
    1800,4;
    2700,3;
    3600,2]) <span style="color: #006400">&quot;Speed ratio &quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TConIn(k=273.15 + 25) <span style="color: #006400">
    &quot;Condensor inlet temperature&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(sou.ports[1], mulStaDX.port_a);
  <span style="color: red">connect</span>(mulStaDX.port_b, sin.ports[1]);
  <span style="color: red">connect</span>(TEvaIn.y, sou.T_in);
  <span style="color: red">connect</span>(p.y, sou.p_in);
  <span style="color: red">connect</span>(speRat.y, mulStaDX.stage);
  <span style="color: red">connect</span>(TConIn.y, mulStaDX.TConIn);
<span style="color: blue">end </span>MultiStage;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleSpeed<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeed" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeed"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples</a>.SingleSpeed</h2>
<p>
<b>Test model for single speed DX coil</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha0cfba4a3dee49754SpeedD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeed">
</p>
<h3>Information</h3>

<p>
This is a test model for
<a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
>
Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a>. 
The model has open-loop control and time-varying input conditions.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>datCoi.sta[datCoi.nSta].nomV...</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>1000</td><td>Pressure drop at m_flow_nominal [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> SingleSpeed <span style="color: #006400">&quot;Test model for single speed DX coil&quot;</span>
  <span style="color: blue">package</span> Medium = <a href="Buildings_Media_GasesConstantDensity_MoistAirUnsaturated.html#Buildings.Media.GasesConstantDensity.MoistAirUnsaturated"
>Buildings.Media.GasesConstantDensity.MoistAirUnsaturated</a>;
  <span style="color: blue">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal = datCoi.sta[datCoi.nSta].nomVal.m_flow_nominal <span style="color: #006400">
    &quot;Nominal mass flow rate&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> dp_nominal = 1000 <span style="color: #006400">
    &quot;Pressure drop at m_flow_nominal&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1,
    T=303.15) <span style="color: #006400">&quot;Sink&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sou(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    p(displayUnit=&quot;Pa&quot;) = 101325 + dp_nominal,
    use_T_in=true,
    nPorts=1,
    use_p_in=true,
    T=299.85) <span style="color: #006400">&quot;Source&quot;</span>;
  <span style="color: blue">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</a> system;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanStep"
>Modelica.Blocks.Sources.BooleanStep</a> onOff(startTime=600) <span style="color: #006400">
    &quot;Compressor on-off signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> TEvaIn(
    duration=600,
    startTime=2400,
    height=-5,
    offset=273.15 + 23) <span style="color: #006400">&quot;Temperature&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
>Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a> sinSpeDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=dp_nominal,
    datCoi=datCoi,
    T_start=datCoi.sta[1].nomVal.TEvaIn_nominal,
    show_T=true,
    from_dp=true) <span style="color: #006400">&quot;Single speed DX coil&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> p(
    duration=600,
    startTime=600,
    height=dp_nominal,
    offset=101325) <span style="color: #006400">&quot;Pressure&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Data.Generic.DXCoil</a>
                datCoi(
    sta={
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1800/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-21000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.5),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_II</span>())},           nSta=
       1) <span style="color: #006400">&quot;Coil data&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TConIn(k=273.15 + 25) <span style="color: #006400">
    &quot;Condensor inlet temperature&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(TEvaIn.y, sou.T_in);
  <span style="color: red">connect</span>(onOff.y, sinSpeDX.on);
  <span style="color: red">connect</span>(sou.ports[1], sinSpeDX.port_a);
  <span style="color: red">connect</span>(sinSpeDX.port_b, sin.ports[1]);
  <span style="color: red">connect</span>(p.y, sou.p_in);
  <span style="color: red">connect</span>(TConIn.y, sinSpeDX.TConIn);
<span style="color: blue">end </span>SingleSpeed;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE VariableSpeed<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.VariableSpeed" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.VariableSpeed"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples</a>.VariableSpeed</h2>
<p>
<b>Test model for variable speed DX coil</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha81ed91672f4a1688SpeedD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.VariableSpeed">
</p>
<h3>Information</h3>

<p>
This is a test model for 
<a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.VariableSpeed"
>
Buildings.Fluid.HeatExchangers.DXCoils.VariableSpeed</a>.
The model has open-loop control and time-varying input conditions.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>datCoi.sta[datCoi.nSta].nomV...</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>1000</td><td>Pressure drop at m_flow_nominal [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> VariableSpeed <span style="color: #006400">&quot;Test model for variable speed DX coil&quot;</span>
  <span style="color: blue">package</span> Medium = <a href="Buildings_Media_GasesConstantDensity_MoistAirUnsaturated.html#Buildings.Media.GasesConstantDensity.MoistAirUnsaturated"
>Buildings.Media.GasesConstantDensity.MoistAirUnsaturated</a>;
  <span style="color: blue">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal = datCoi.sta[datCoi.nSta].nomVal.m_flow_nominal <span style="color: #006400">
    &quot;Nominal mass flow rate&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> dp_nominal = 1000 <span style="color: #006400">
    &quot;Pressure drop at m_flow_nominal&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=1,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    T=293.15) <span style="color: #006400">&quot;Sink&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sou(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=1,
    p(displayUnit=&quot;Pa&quot;) = 101325 + dp_nominal,
    use_T_in=true,
    use_p_in=true,
    T=299.85) <span style="color: #006400">&quot;Source&quot;</span>;
  <span style="color: blue">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</a> system;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.VariableSpeed"
>Buildings.Fluid.HeatExchangers.DXCoils.VariableSpeed</a> varSpeDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=dp_nominal,
    datCoi=datCoi,
    minSpeRat=datCoi.minSpeRat,
    T_start=datCoi.sta[1].nomVal.TEvaIn_nominal,
    from_dp=true) <span style="color: #006400">&quot;Variable speed DX coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> TEvaIn(
    duration=600,
    startTime=900,
    height=5,
    offset=273.15 + 20,
    y(unit=&quot;K&quot;)) <span style="color: #006400">&quot;temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> speRat(table=[0.0,0.0; 100,0.0; 900,0.2;
        1800,0.8; 2700,0.75; 3600,0.75]) <span style="color: #006400">&quot;Speed ratio &quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Ramp"
>Modelica.Blocks.Sources.Ramp</a> p(
    duration=600,
    height=dp_nominal,
    offset=101325,
    startTime=100) <span style="color: #006400">&quot;Mass flow rate of air&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Data.Generic.DXCoil</a>
                datCoi(nSta=4, sta={
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=900/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-12000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=0.9),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_I</span>()),
              <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1200/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-18000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.2),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_I</span>()),
              <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1800/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-21000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.5),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_II</span>()),
              <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=2400/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-30000,
          COP_nominal=3,
          SHR_nominal=0.8,
          m_flow_nominal=1.8),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_III</span>())}) <span style="color: #006400">
    &quot;Coil data&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TConIn(k=273.15 + 25) <span style="color: #006400">
    &quot;Condensor inlet temperature&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(sou.ports[1], varSpeDX.port_a);
  <span style="color: red">connect</span>(varSpeDX.port_b, sin.ports[1]);
  <span style="color: red">connect</span>(TEvaIn.y, sou.T_in);
  <span style="color: red">connect</span>(speRat.y, varSpeDX.speRat);
  <span style="color: red">connect</span>(p.y, sou.p_in);
  <span style="color: red">connect</span>(varSpeDX.TConIn, TConIn.y);
<span style="color: blue">end </span>VariableSpeed;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleSpeedValidation<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidation" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidation"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples</a>.SingleSpeedValidation</h2>
<p>
<b>Validation model for single speed DX coil with PLR=1</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha6dc988482f727066ationD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidation">
</p>
<h3>Information</h3>

<p>
This model validates the model
<a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
> 
Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a>.
</p>
<p> 
The difference in results of 
<i>T<sub>Out</sub></i> and 
<i>X<sub>Out</sub></i>
at the beginning and end of the simulation is because the mass flow rate is zero.
For zero mass flow rate, EnergyPlus assumes steady state condition,
whereas the Modelica model is a dynamic model and hence the properties at the outlet
are equal to the state variables of the model.
</p>
<p>
The EnergyPlus results were generated using the example file <code>DXCoilSystemAuto.idf</code>
from EnergyPlus 7.1, 
with a nominal cooling capacity of <i>10500</i> Watts instead of using
autosizing. This allowed to have a part load ratio of one.
</p>
<p>
Note that EnergyPlus mass fractions (<code>X</code>) are in mass of water vapor per mass of dry air,
whereas Modelica uses the total mass as a reference. Hence, the EnergyPlus values
are corrected by dividing them by 
<code>1+X</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Power</a></td><td>Q_flow_nominal</td><td>datCoi.sta[1].nomVal.Q_flow_...</td><td>Nominal power [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>datCoi.sta[1].nomVal.m_flow_...</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>1141</td><td>Pressure drop at m_flow_nominal [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> SingleSpeedValidation <span style="color: #006400">
  &quot;Validation model for single speed DX coil with PLR=1&quot;</span>
  <span style="color: blue">package</span> Medium = <a href="Buildings_Media_GasesConstantDensity_MoistAirUnsaturated.html#Buildings.Media.GasesConstantDensity.MoistAirUnsaturated"
>Buildings.Media.GasesConstantDensity.MoistAirUnsaturated</a>;
  <span style="color: blue">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Modelica.SIunits.Power</a> Q_flow_nominal = datCoi.sta[1].nomVal.Q_flow_nominal <span style="color: #006400">
    &quot;Nominal power&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal = datCoi.sta[1].nomVal.m_flow_nominal <span style="color: #006400">
    &quot;Nominal mass flow rate&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> dp_nominal = 1141 <span style="color: #006400">
    &quot;Pressure drop at m_flow_nominal&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1,
    T=303.15) <span style="color: #006400">&quot;Sink&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sou(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    p(displayUnit=&quot;Pa&quot;) = 101325 + dp_nominal,
    use_T_in=true,
    nPorts=1,
    use_p_in=true,
    use_X_in=true,
    T=299.85) <span style="color: #006400">&quot;Source&quot;</span>;
  <span style="color: blue">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</a> system;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
>Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a> sinSpeDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=dp_nominal,
    datCoi=datCoi,
    T_start=datCoi.sta[1].nomVal.TEvaIn_nominal,
    from_dp=true,
    energyDynamics=Modelica.Fluid.Types.Dynamics.FixedInitial) <span style="color: #006400">
    &quot;Single speed DX coil&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Data.Generic.DXCoil</a>
                datCoi(nSta=1, sta={
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1800/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-10500,
          COP_nominal=3,
          SHR_nominal=0.798655,
          m_flow_nominal=1.72),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_II</span>())}) <span style="color: #006400">
    &quot;Coil data&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> plr_onOff(table=[0,0; 3600,0; 3600,0; 7200,0;
        7200,0; 10800,0; 10800,0; 14400,0; 14400,0; 18000,0; 18000,0; 21600,0; 21600,
        0; 25200,0; 25200,1; 28800,1; 28800,1; 32400,1; 32400,1; 36000,1; 36000,
        1; 39600,1; 39600,1; 43200,1; 43200,1; 46800,1; 46800,1; 50400,1; 50400,
        1; 54000,1; 54000,1; 57600,1; 57600,1; 61200,1; 61200,0; 64800,0; 64800,
        0; 68400,0; 68400,0; 72000,0; 72000,0; 75600,0; 75600,0; 79200,0; 79200,
        0; 82800,0; 82800,0; 86400,0]) <span style="color: #006400">
    &quot;EnergyPlus PLR converted into on-off signal for this model&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> TCIn(table=[0,21.1; 3600,21.1; 3600,
        20.80833333; 7200,20.80833333; 7200,20.89166667; 10800,20.89166667;
        10800,21.1; 14400,21.1; 14400,20.80833333; 18000,20.80833333; 18000,
        20.6; 21600,20.6; 21600,20.89166667; 25200,20.89166667; 25200,21.45;
        28800,21.45; 28800,22.63333333; 32400,22.63333333; 32400,23.3; 36000,
        23.3; 36000,25.575; 39600,25.575; 39600,28.19166667; 43200,28.19166667;
        43200,27.90833333; 46800,27.90833333; 46800,26.90833333; 50400,
        26.90833333; 50400,26.7; 54000,26.7; 54000,26.05833333; 57600,
        26.05833333; 57600,24.60833333; 61200,24.60833333; 61200,23.55; 64800,
        23.55; 64800,23.3; 68400,23.3; 68400,23.00833333; 72000,23.00833333;
        72000,22.8; 75600,22.8; 75600,22.15833333; 79200,22.15833333; 79200,
        21.35; 82800,21.35; 82800,21.1; 86400,21.1]) <span style="color: #006400">
    &quot;Condenser inlet temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> TEvaIn(table=[0,31.29534707; 3600,31.29534707;
        3600,30.89999423; 7200,30.89999423; 7200,30.58355581; 10800,30.58355581;
        10800,30.30108174; 14400,30.30108174; 14400,30.01393253; 18000,30.01393253;
        18000,29.75672215; 21600,29.75672215; 21600,29.66076742; 25200,29.66076742;
        25200,25.29138892; 28800,25.29138892; 28800,25.91180176; 32400,25.91180176;
        32400,26.79831523; 36000,26.79831523; 36000,27.40611604; 39600,27.40611604;
        39600,28.22402981; 43200,28.22402981; 43200,28.69183674; 46800,28.69183674;
        46800,29.0211012; 50400,29.0211012; 50400,29.3698004; 54000,29.3698004;
        54000,29.52289127; 57600,29.52289127; 57600,29.41955159; 61200,29.41955159;
        61200,38.68278429; 64800,38.68278429; 64800,35.75595795; 68400,35.75595795;
        68400,33.29770237; 72000,33.29770237; 72000,32.78839302; 75600,32.78839302;
        75600,32.3989099; 79200,32.3989099; 79200,32.00270417; 82800,32.00270417;
        82800,31.66453096; 86400,31.66453096]) <span style="color: #006400">&quot;Coil inlet temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> XEvaIn(table=[0,0.010526598; 3600,0.010526598;
        3600,0.010526598; 7200,0.010526598; 7200,0.010526598; 10800,0.010526598;
        10800,0.010526598; 14400,0.010526598; 14400,0.010526598; 18000,
        0.010526598; 18000,0.010526598; 21600,0.010526598; 21600,0.010631087;
        25200,0.010631087; 25200,0.010396485; 28800,0.010396485; 28800,
        0.009496633; 32400,0.009496633; 32400,0.009521406; 36000,0.009521406;
        36000,0.009576525; 39600,0.009576525; 39600,0.009574467; 43200,
        0.009574467; 43200,0.009610872; 46800,0.009610872; 46800,0.009792709;
        50400,0.009792709; 50400,0.010022684; 54000,0.010022684; 54000,
        0.010213791; 57600,0.010213791; 57600,0.010384401; 61200,0.010384401;
        61200,0.010396282; 64800,0.010396282; 64800,0.010537993; 68400,
        0.010537993; 68400,0.010537961; 72000,0.010537961; 72000,0.010537961;
        75600,0.010537961; 75600,0.010537961; 79200,0.010537961; 79200,
        0.010537961; 82800,0.010537961; 82800,0.010537961; 86400,0.010537961]) <span style="color: #006400">
    &quot;Water fraction of moist air&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.RealToBoolean"
>Modelica.Blocks.Math.RealToBoolean</a> onOff;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Multiplex2"
>Modelica.Blocks.Routing.Multiplex2</a> mux <span style="color: #006400">&quot;Converts in an array&quot;</span>;
  <a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB.From_degC"
>Buildings.Utilities.IO.BCVTB.From_degC</a> TCIn_K <span style="color: #006400">&quot;Converts degC to K&quot;</span>;
  <a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB.From_degC"
>Buildings.Utilities.IO.BCVTB.From_degC</a> TEvaIn_K <span style="color: #006400">&quot;Converts degC to K&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> TOutMea(f=1/3600);
  <a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB.To_degC"
>Buildings.Utilities.IO.BCVTB.To_degC</a> TOutDegC;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> TOut(y=sinSpeDX.vol.T);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> XEvaOutMea(f=1/3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> XEvaOut(y=<span style="color: red">sum</span>(sinSpeDX.vol.Xi));
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> Q_flowMea(f=1/3600) <span style="color: #006400">&quot;Mean of cooling rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> Q_flowSenMea(f=1/3600) <span style="color: #006400">
    &quot;Mean of sensible cooling rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> PMea(f=1/3600) <span style="color: #006400">&quot;Mean of power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add(k1=-1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> XEvaInMoiAir(k=1.0) <span style="color: #006400">&quot;Moist air fraction = 1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> TOutEPlu(table=[0,31.29534707; 3600,31.29534707;
        3600,30.89999423; 7200,30.89999423; 7200,30.58355581; 10800,30.58355581;
        10800,30.30108174; 14400,30.30108174; 14400,30.01393253; 18000,30.01393253;
        18000,29.75672215; 21600,29.75672215; 21600,29.66076742; 25200,29.66076742;
        25200,20.31734137; 28800,20.31734137; 28800,20.48740189; 32400,20.48740189;
        32400,21.17362815; 36000,21.17362815; 36000,21.67091874; 39600,21.67091874;
        39600,22.31588652; 43200,22.31588652; 43200,22.67802681; 46800,22.67802681;
        46800,22.97615397; 50400,22.97615397; 50400,23.31283949; 54000,23.31283949;
        54000,23.48357346; 57600,23.48357346; 57600,23.44857837; 61200,23.44857837;
        61200,38.68278429; 64800,38.68278429; 64800,35.75595795; 68400,35.75595795;
        68400,33.29770237; 72000,33.29770237; 72000,32.78839302; 75600,32.78839302;
        75600,32.3989099; 79200,32.3989099; 79200,32.00270417; 82800,32.00270417;
        82800,31.66453096; 86400,31.66453096]) <span style="color: #006400">
    &quot;EnergyPlus result: outlet temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> Q_flowEPlu(table=[0,-1e-07; 3600,-1e-07; 3600,
        -1e-07; 7200,-1e-07; 7200,-1e-07; 10800,-1e-07; 10800,-1e-07; 14400,-1e-07;
        14400,-1e-07; 18000,-1e-07; 18000,-1e-07; 21600,-1e-07; 21600,-1e-07; 25200,
        -1e-07; 25200,-10983.1144101; 28800,-10983.1144101; 28800,-10855.9768001;
        32400,-10855.9768001; 32400,-10903.5304201; 36000,-10903.5304201; 36000,
        -10877.5678501; 39600,-10877.5678501; 39600,-10822.2172001; 43200,-10822.2172001;
        43200,-10878.2459001; 46800,-10878.2459001; 46800,-10981.5365901; 50400,
        -10981.5365901; 50400,-11055.6112701; 54000,-11055.6112701; 54000,-11121.6278701;
        57600,-11121.6278701; 57600,-11185.7466001; 61200,-11185.7466001; 61200,
        -1e-07; 64800,-1e-07; 64800,-1e-07; 68400,-1e-07; 68400,-1e-07; 72000,-1e-07;
        72000,-1e-07; 75600,-1e-07; 75600,-1e-07; 79200,-1e-07; 79200,-1e-07; 82800,
        -1e-07; 82800,-1e-07; 86400,-1e-07]) <span style="color: #006400">&quot;EnergyPlus result: heat flow&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> Q_flowSenEPlu(table=[0,0; 3600,0; 3600,0; 7200,
        0; 7200,0; 10800,0; 10800,0; 14400,0; 14400,0; 18000,0; 18000,0; 21600,0;
        21600,0; 25200,0; 25200,-8537.795206; 28800,-8537.795206; 28800,-9298.755552;
        32400,-9298.755552; 32400,-9643.742602; 36000,-9643.742602; 36000,-9835.115234;
        39600,-9835.115234; 39600,-10133.17939; 43200,-10133.17939; 43200,-10315.64445;
        46800,-10315.64445; 46800,-10372.27848; 50400,-10372.27848; 50400,-10397.02013;
        54000,-10397.02013; 54000,-10369.92204; 57600,-10369.92204; 57600,-10254.97156;
        61200,-10254.97156; 61200,0; 64800,0; 64800,0; 68400,0; 68400,0; 72000,0;
        72000,0; 75600,0; 75600,0; 79200,0; 79200,0; 82800,0; 82800,0; 86400,0]) <span style="color: #006400">
    &quot;EnergyPlus result: sensible heat flow &quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Division"
>Modelica.Blocks.Math.Division</a> shrEPlu <span style="color: #006400">&quot;EnergyPlus result: SHR&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> XEvaOutEPlu(table=[0,0.010526598; 3600,0.010526598;
        3600,0.010526598; 7200,0.010526598; 7200,0.010526598; 10800,0.010526598;
        10800,0.010526598; 14400,0.010526598; 14400,0.010526598; 18000,0.010526598;
        18000,0.010526598; 21600,0.010526598; 21600,0.010631087; 25200,0.010631087;
        25200,0.009824324; 28800,0.009824324; 28800,0.009132468; 32400,0.009132468;
        32400,0.009227012; 36000,0.009227012; 36000,0.009333022; 39600,0.009333022;
        39600,0.009413613; 43200,0.009413613; 43200,0.009479582; 46800,0.009479582;
        46800,0.009650565; 50400,0.009650565; 50400,0.009869069; 54000,0.009869069;
        54000,0.010038477; 57600,0.010038477; 57600,0.010167307; 61200,0.010167307;
        61200,0.010396282; 64800,0.010396282; 64800,0.010537993; 68400,0.010537993;
        68400,0.010537961; 72000,0.010537961; 72000,0.010537961; 75600,0.010537961;
        75600,0.010537961; 79200,0.010537961; 79200,0.010537961; 82800,0.010537961;
        82800,0.010537961; 86400,0.010537961]) <span style="color: #006400">
    &quot;EnergyPlus result: outlet water mass fraction&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> PEPlu(table=[0,0; 3600,0; 3600,0; 7200,0; 7200,
        0; 10800,0; 10800,0; 14400,0; 14400,0; 18000,0; 18000,0; 21600,0; 21600,
        0; 25200,0; 25200,2947.546668; 28800,2947.546668; 28800,2966.686535; 32400,
        2966.686535; 32400,2999.864072; 36000,2999.864072; 36000,3087.801241; 39600,
        3087.801241; 39600,3195.082124; 43200,3195.082124; 43200,3188.668029; 46800,
        3188.668029; 46800,3156.065892; 50400,3156.065892; 50400,3155.199826; 54000,
        3155.199826; 54000,3136.04256; 57600,3136.04256; 57600,3087.770321; 61200,
        3087.770321; 61200,0; 64800,0; 64800,0; 68400,0; 68400,0; 72000,0; 72000,
        0; 75600,0; 75600,0; 79200,0; 79200,0; 82800,0; 82800,0; 86400,0]) <span style="color: #006400">
    &quot;EnergyPlus result: electric power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> p(
    nperiod=1,
    offset=101325,
    amplitude=1141,
    width=100,
    period=36000,
    startTime=25200) <span style="color: #006400">&quot;Pressure&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> XEvaInMod(y=XEvaIn.y/(1 + XEvaIn.y)) <span style="color: #006400">
    &quot;Modified XEvaIn&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> XEvaOutEPluMod(y=XEvaOutEPlu.y/(1 + XEvaOutEPlu.y)) <span style="color: #006400">
    &quot;Modified XEvaOut of energyPlus to comapre with the model results&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> QCoo_flow <span style="color: #006400">&quot;Total cooling heat flow rate&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(sou.ports[1], sinSpeDX.port_a);
  <span style="color: red">connect</span>(sinSpeDX.port_b, sin.ports[1]);
  <span style="color: red">connect</span>(plr_onOff.y, onOff.u);
  <span style="color: red">connect</span>(onOff.y, sinSpeDX.on);
  <span style="color: red">connect</span>(mux.y, sou.X_in);
  <span style="color: red">connect</span>(TCIn.y, TCIn_K.Celsius);
  <span style="color: red">connect</span>(TCIn_K.Kelvin, sinSpeDX.TConIn);
  <span style="color: red">connect</span>(TEvaIn.y, TEvaIn_K.Celsius);
  <span style="color: red">connect</span>(TEvaIn_K.Kelvin, sou.T_in);
  <span style="color: red">connect</span>(TOut.y, TOutMea.u);
  <span style="color: red">connect</span>(TOutMea.y, TOutDegC.Kelvin);
  <span style="color: red">connect</span>(XEvaOut.y, XEvaOutMea.u);
  <span style="color: red">connect</span>(XEvaInMoiAir.y, add.u2);
  <span style="color: red">connect</span>(add.y, mux.u2[1]);
  <span style="color: red">connect</span>(Q_flowSenEPlu.y, shrEPlu.u1);
  <span style="color: red">connect</span>(Q_flowEPlu.y, shrEPlu.u2);
  <span style="color: red">connect</span>(sinSpeDX.P, PMea.u);
  <span style="color: red">connect</span>(p.y, sou.p_in);
  <span style="color: red">connect</span>(XEvaInMod.y, mux.u1[1]);
  <span style="color: red">connect</span>(XEvaInMod.y, add.u1);
  <span style="color: red">connect</span>(sinSpeDX.QSen_flow, Q_flowSenMea.u);
  <span style="color: red">connect</span>(QCoo_flow.y, Q_flowMea.u);
  <span style="color: red">connect</span>(QCoo_flow.u1, sinSpeDX.QSen_flow);
  <span style="color: red">connect</span>(sinSpeDX.QLat_flow, QCoo_flow.u2);
<span style="color: blue">end </span>SingleSpeedValidation;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SingleSpeedValidationPLR<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaccfa0e2d4f873ce9StageI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidationPLR" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidationPLR"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples</a>.SingleSpeedValidationPLR</h2>
<p>
<b>Validation model for single speed DX coil with PLR=1</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha30a8459e3832536bonPLRD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SingleSpeedValidationPLR">
</p>
<h3>Information</h3>

<p>
This model validates the model
<a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
> 
Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a>.
</p>
<p> 
The difference in results of 
<i>T<sub>Out</sub></i> and 
<i>X<sub>Out</sub></i>
at the beginning and end of the simulation is because the mass flow rate is zero.
For zero mass flow rate, EnergyPlus assumes steady state condition,
whereas the Modelica model is a dynamic model and hence the properties at the outlet
are equal to the state variables of the model.
</p>
<p>
The EnergyPlus results were generated using the example file <code>DXCoilSystemAuto.idf</code>
from EnergyPlus 7.1.
<p>
The EnergyPlus results were generated using the example file 
<code>DXCoilSystemAuto.idf</code> from EnergyPlus 7.1.
On the summer design day, the PLR is below 1. 
A similar effect has been achieved in this example by turning on the coil only for the period 
during which it run in EnergyPlus.
This results in on-off cycle and fluctuating results.
To compare the results, the Modelica outputs are averaged over <i>3600</i> seconds,
and the EnergyPlus outputs are used with a zero order delay to avoid the time shift in results.
</p>
<p>
Note that EnergyPlus mass fractions (<code>X</code>) are in mass of water vapor per mass of dry air,
whereas Modelica uses the total mass as a reference. Hence, the EnergyPlus values
are corrected by dividing them by 
<code>1+X</code>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Power</a></td><td>Q_flow_nominal</td><td>datCoi.sta[1].nomVal.Q_flow_...</td><td>Nominal power [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>datCoi.sta[1].nomVal.m_flow_...</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>1141</td><td>Pressure drop at m_flow_nominal [Pa]</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> SingleSpeedValidationPLR <span style="color: #006400">
  &quot;Validation model for single speed DX coil with PLR=1&quot;</span>
  <span style="color: blue">package</span> Medium = <a href="Buildings_Media_GasesConstantDensity_MoistAirUnsaturated.html#Buildings.Media.GasesConstantDensity.MoistAirUnsaturated"
>Buildings.Media.GasesConstantDensity.MoistAirUnsaturated</a>;
  <span style="color: blue">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Power"
>Modelica.SIunits.Power</a> Q_flow_nominal = datCoi.sta[1].nomVal.Q_flow_nominal <span style="color: #006400">
    &quot;Nominal power&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m_flow_nominal = datCoi.sta[1].nomVal.m_flow_nominal <span style="color: #006400">
    &quot;Nominal mass flow rate&quot;</span>;
 <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Modelica.SIunits.Pressure</a> dp_nominal = 1141 <span style="color: #006400">
    &quot;Pressure drop at m_flow_nominal&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sin(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    p(displayUnit=&quot;Pa&quot;) = 101325,
    nPorts=1,
    T=303.15) <span style="color: #006400">&quot;Sink&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Boundary_pT"
>Buildings.Fluid.Sources.Boundary_pT</a> sou(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    p(displayUnit=&quot;Pa&quot;) = 101325 + dp_nominal,
    use_T_in=true,
    nPorts=1,
    use_p_in=true,
    use_X_in=true,
    T=299.85) <span style="color: #006400">&quot;Source&quot;</span>;
  <span style="color: blue">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</a> system;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
>Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a> sinSpeDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=dp_nominal,
    datCoi=datCoi,
    T_start=datCoi.sta[1].nomVal.TEvaIn_nominal,
    from_dp=true,
    computeReevaporation=true,
    eva(m(start=0))) <span style="color: #006400">&quot;Single speed DX coil&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Multiplex2"
>Modelica.Blocks.Routing.Multiplex2</a> mux <span style="color: #006400">&quot;Converts in an array&quot;</span>;
  <a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB.From_degC"
>Buildings.Utilities.IO.BCVTB.From_degC</a> TCIn_K <span style="color: #006400">&quot;Converts degC to K&quot;</span>;
  <a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB.From_degC"
>Buildings.Utilities.IO.BCVTB.From_degC</a> TEvaIn_K <span style="color: #006400">&quot;Converts degC to K&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> TOutMea(f=1/3600);
  <a href="Buildings_Utilities_IO_BCVTB.html#Buildings.Utilities.IO.BCVTB.To_degC"
>Buildings.Utilities.IO.BCVTB.To_degC</a> TOutDegC;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> TOut(y=sinSpeDX.vol.T);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> XEvaOutMea(f=1/3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> XEvaOut(y=<span style="color: red">sum</span>(sinSpeDX.vol.Xi));
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> Q_flowMea(f=1/3600) <span style="color: #006400">&quot;Mean of cooling rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> Q_flowSenMea(f=1/3600) <span style="color: #006400">
    &quot;Mean of sensible cooling rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Mean"
>Modelica.Blocks.Math.Mean</a> PMea(f=1/3600) <span style="color: #006400">&quot;Mean of power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add(k1=-1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> XEvaInMoiAir(k=1.0) <span style="color: #006400">&quot;Moist air fraction = 1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Division"
>Modelica.Blocks.Math.Division</a> shrEPlu <span style="color: #006400">&quot;EnergyPlus result: SHR&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Pulse"
>Modelica.Blocks.Sources.Pulse</a> p(
    nperiod=1,
    offset=101325,
    width=100,
    period=36000,
    startTime=25200,
    amplitude=1086) <span style="color: #006400">&quot;Pressure&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> XEvaInMod(y=XEvaIn.y/(1 + XEvaIn.y)) <span style="color: #006400">
    &quot;Modified XEvaIn&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.RealExpression"
>Modelica.Blocks.Sources.RealExpression</a> XEvaOutEPluMod(y=XEvaOutEPlu.y/(1 + XEvaOutEPlu.y)) <span style="color: #006400">
    &quot;Modified XEvaOut of energyPlus to comapre with the model results&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.BooleanTable"
>Modelica.Blocks.Sources.BooleanTable</a> onOff(startValue=true, table={
 0,
25200,
26223.8694421458,
28800,
30457.5364262964,
32400,
34157.5093643325,
36000,
37915.2504828207,
39600,
41687.2390146012,
43200,
45363.3505825759,
46800,
49129.0477925565,
50400,
52764.5288886473,
54000,
56361.5689116996,
57600,
59868.3223307805}) <span style="color: #006400">&quot;EnergyPlus PLR converted into on-off signal for this model&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> TCIn(table=[0,21.1; 3600,21.1; 3600,
        20.80833333; 7200,20.80833333; 7200,20.89166667; 10800,20.89166667;
        10800,21.1; 14400,21.1; 14400,20.80833333; 18000,20.80833333; 18000,
        20.6; 21600,20.6; 21600,20.89166667; 25200,20.89166667; 25200,21.45;
        28800,21.45; 28800,22.63333333; 32400,22.63333333; 32400,23.3; 36000,
        23.3; 36000,25.575; 39600,25.575; 39600,28.19166667; 43200,28.19166667;
        43200,27.90833333; 46800,27.90833333; 46800,26.90833333; 50400,
        26.90833333; 50400,26.7; 54000,26.7; 54000,26.05833333; 57600,
        26.05833333; 57600,24.60833333; 61200,24.60833333; 61200,23.55; 64800,
        23.55; 64800,23.3; 68400,23.3; 68400,23.00833333; 72000,23.00833333;
        72000,22.8; 75600,22.8; 75600,22.15833333; 79200,22.15833333; 79200,
        21.35; 82800,21.35; 82800,21.1; 86400,21.1]) <span style="color: #006400">
    &quot;Condenser inlet temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> TEvaIn(table=[
0,29.34948133;
3600,29.34948133;
3600,29.01814876;
7200,29.01814876;
7200,28.76345897;
10800,28.76345897;
10800,28.53396626;
14400,28.53396626;
14400,28.29506697;
18000,28.29506697;
18000,28.08827214;
21600,28.08827214;
21600,28.04639166;
25200,28.04639166;
25200,24.08651629;
28800,24.08651629;
28800,24.09243025;
32400,24.09243025;
32400,24.20516777;
36000,24.20516777;
36000,24.37566383;
39600,24.37566383;
39600,24.56160617;
43200,24.56160617;
43200,24.52393669;
46800,24.52393669;
46800,24.39077471;
50400,24.39077471;
50400,24.33155125;
54000,24.33155125;
54000,24.27362306;
57600,24.27362306;
57600,24.16566121;
61200,24.16566121;
61200,35.62393274;
64800,35.62393274;
64800,32.89683519;
68400,32.89683519;
68400,31.14979083;
72000,31.14979083;
72000,30.65928154;
75600,30.65928154;
75600,30.28912721;
79200,30.28912721;
79200,29.91867206;
82800,29.91867206;
82800,29.61490681;
86400,29.61490681]) <span style="color: #006400">&quot;Coil inlet temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> XEvaIn(table=[
0,0.00946;
3600,0.00946;
3600,0.00946;
7200,0.00946;
7200,0.00946;
10800,0.00946;
10800,0.00946;
14400,0.00946;
14400,0.00946;
18000,0.00946;
18000,0.00946;
21600,0.00946;
21600,0.00955;
25200,0.00955;
25200,0.0103;
28800,0.0103;
28800,0.0109;
32400,0.0109;
32400,0.0108;
36000,0.0108;
36000,0.0105;
39600,0.0105;
39600,0.01;
43200,0.01;
43200,0.00969;
46800,0.00969;
46800,0.00947;
50400,0.00947;
50400,0.00926;
54000,0.00926;
54000,0.00923;
57600,0.00923;
57600,0.00937;
61200,0.00937;
61200,0.00936;
64800,0.00936;
64800,0.00946;
68400,0.00946;
68400,0.00946;
72000,0.00946;
72000,0.00946;
75600,0.00946;
75600,0.00946;
79200,0.00946;
79200,0.00946;
82800,0.00946;
82800,0.00946;
86400,0.00946]) <span style="color: #006400">&quot;Water fraction of moist air&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> TOutEPlu_ori(table=[0,29.34948133; 3600,29.34948133;
        3600,29.01814876; 7200,29.01814876; 7200,28.76345897; 10800,28.76345897;
        10800,28.53396626; 14400,28.53396626; 14400,28.29506697; 18000,28.29506697;
        18000,28.08827214; 21600,28.08827214; 21600,28.04639166; 25200,28.04639166;
        25200,19.79102221; 28800,19.79102221; 28800,17.58304653; 32400,17.58304653;
        32400,17.35471965; 36000,17.35471965; 36000,16.95320861; 39600,16.95320861;
        39600,16.4388043; 43200,16.4388043; 43200,16.03301122; 46800,16.03301122;
        46800,15.41071946; 50400,15.41071946; 50400,15.15437515; 54000,15.15437515;
        54000,15.09543443; 57600,15.09543443; 57600,15.3159498; 61200,15.3159498;
        61200,35.62393274; 64800,35.62393274; 64800,32.89683519; 68400,32.89683519;
        68400,31.14979083; 72000,31.14979083; 72000,30.65928154; 75600,30.65928154;
        75600,30.28912721; 79200,30.28912721; 79200,29.91867206; 82800,29.91867206;
        82800,29.61490681; 86400,29.61490681]) <span style="color: #006400">
    &quot;EnergyPlus result: outlet temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> PEPlu_ori(table=[0,0; 3600,0; 3600,0; 7200,
        0; 7200,0; 10800,0; 10800,0; 14400,0; 14400,0; 18000,0; 18000,0; 21600,
        0; 21600,0; 25200,0; 25200,2221.47212; 28800,2221.47212; 28800,
        3595.947729; 32400,3595.947729; 32400,3819.11052; 36000,3819.11052;
        36000,4235.566014; 39600,4235.566014; 39600,4714.070326; 43200,
        4714.070326; 43200,4835.805362; 46800,4835.805362; 46800,5089.357992;
        50400,5089.357992; 50400,5132.912713; 54000,5132.912713; 54000,
        5082.720823; 57600,5082.720823; 57600,4820.015593; 61200,4820.015593;
        61200,0; 64800,0; 64800,0; 68400,0; 68400,0; 72000,0; 72000,0; 75600,0;
        75600,0; 79200,0; 79200,0; 82800,0; 82800,0; 86400,0]) <span style="color: #006400">
    &quot;EnergyPlus result: electric power&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> XEvaOutEPlu_ori(table=[0,0.009460927; 3600,0.009460927;
        3600,0.009460927; 7200,0.009460927; 7200,0.009460927; 10800,0.009460927;
        10800,0.009460927; 14400,0.009460927; 14400,0.009460927; 18000,0.009460927;
        18000,0.009460927; 21600,0.009460927; 21600,0.009553929; 25200,0.009553929;
        25200,0.010316263; 28800,0.010316263; 28800,0.010677981; 32400,0.010677981;
        32400,0.010521771; 36000,0.010521771; 36000,0.010225222; 39600,0.010225222;
        39600,0.009821415; 43200,0.009821415; 43200,0.009523837; 46800,0.009523837;
        46800,0.009220467; 50400,0.009220467; 50400,0.009042737; 54000,0.009042737;
        54000,0.009012184; 57600,0.009012184; 57600,0.009145645; 61200,0.009145645;
        61200,0.009361285; 64800,0.009361285; 64800,0.009459829; 68400,0.009459829;
        68400,0.009459801; 72000,0.009459801; 72000,0.009459801; 75600,0.009459801;
        75600,0.009459801; 79200,0.009459801; 79200,0.009459801; 82800,0.009459801;
        82800,0.009459801; 86400,0.009459801]) <span style="color: #006400">
    &quot;EnergyPlus result: outlet water mass fraction&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> Q_flowSenEPlu_ori(table=[0,0; 3600,0; 3600,0;
        7200,0; 7200,0; 10800,0; 10800,0; 14400,0; 14400,0; 18000,0; 18000,0; 21600,
        0; 21600,0; 25200,0; 25200,7378.442557; 28800,7378.442557; 28800,11190.03413;
        32400,11190.03413; 32400,11772.99874; 36000,11772.99874; 36000,12749.11676;
        39600,12749.11676; 39600,13941.844; 43200,13941.844; 43200,14565.84942;
        46800,14565.84942; 46800,15396.44898; 50400,15396.44898; 50400,15729.34223;
        54000,15729.34223; 54000,15730.20543; 57600,15730.20543; 57600,15170.91533;
        61200,15170.91533; 61200,0; 64800,0; 64800,0; 68400,0; 68400,0; 72000,0;
        72000,0; 75600,0; 75600,0; 79200,0; 79200,0; 82800,0; 82800,0; 86400,0]) <span style="color: #006400">
    &quot;EnergyPlus result: sensible heat flow &quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.TimeTable"
>Modelica.Blocks.Sources.TimeTable</a> Q_flowEPlu_ori(table=[0,0; 3600,0; 3600,
        0; 7200,0; 7200,0; 10800,0; 10800,0; 14400,0; 14400,
        0; 18000,0; 18000,0; 21600,0; 21600,0; 25200,-1e-9;
        25200,-7464.76568; 28800,-7464.76568; 28800,-12134.51902; 32400,-12134.51902;
        32400,-12829.73888; 36000,-12829.73888; 36000,-13827.82263; 39600,-13827.82263;
        39600,-14802.70071; 43200,-14802.70071; 43200,-15271.18519; 46800,-15271.18519;
        46800,-16441.6341; 50400,-16441.6341; 50400,-16638.80981; 54000,-16638.80981;
        54000,-16649.7802; 57600,-16649.7802; 57600,-16109.92984; 61200,-16109.92984;
        61200,0; 64800,0; 64800,0; 68400,0; 68400,0; 72000,0;
        72000,0; 75600,0; 75600,0; 79200,0; 79200,0; 82800,0;
        82800,0; 86400,0]) <span style="color: #006400">&quot;EnergyPlus result: heat flow&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Data.Generic.DXCoil</a>
                datCoi(nSta=1, sta={
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1800/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=-25237.66,
          COP_nominal=3,
          SHR_nominal=0.775047,
          m_flow_nominal=1.72,
          tWet=1000,
          gamma=1.5),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_II</span>())}) <span style="color: #006400">
    &quot;Coil data&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> QCoo_flow <span style="color: #006400">&quot;Total cooling heat flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay"
>Modelica.Blocks.Discrete.UnitDelay</a> PEPlu(samplePeriod=3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay"
>Modelica.Blocks.Discrete.UnitDelay</a> Q_flowSenEPlu(samplePeriod=3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay"
>Modelica.Blocks.Discrete.UnitDelay</a> Q_flowEPlu(samplePeriod=3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay"
>Modelica.Blocks.Discrete.UnitDelay</a> TOutEPlu(samplePeriod=3600, y_start=29.34948133);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Discrete.html#Modelica.Blocks.Discrete.UnitDelay"
>Modelica.Blocks.Discrete.UnitDelay</a> XEvaOutEPlu(samplePeriod=3600);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.MultiSum"
>Modelica.Blocks.Math.MultiSum</a> multiSum(nu=2);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> small(k=-1e-9) <span style="color: #006400">
    &quot;Small value to avoid division by zero&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(sou.ports[1], sinSpeDX.port_a);
  <span style="color: red">connect</span>(sinSpeDX.port_b, sin.ports[1]);
  <span style="color: red">connect</span>(mux.y, sou.X_in);
  <span style="color: red">connect</span>(TCIn_K.Kelvin, sinSpeDX.TConIn);
  <span style="color: red">connect</span>(TEvaIn_K.Kelvin, sou.T_in);
  <span style="color: red">connect</span>(TOut.y, TOutMea.u);
  <span style="color: red">connect</span>(TOutMea.y, TOutDegC.Kelvin);
  <span style="color: red">connect</span>(XEvaOut.y, XEvaOutMea.u);
  <span style="color: red">connect</span>(XEvaInMoiAir.y, add.u2);
  <span style="color: red">connect</span>(add.y, mux.u2[1]);
  <span style="color: red">connect</span>(sinSpeDX.P, PMea.u);
  <span style="color: red">connect</span>(p.y, sou.p_in);
  <span style="color: red">connect</span>(XEvaInMod.y, mux.u1[1]);
  <span style="color: red">connect</span>(XEvaInMod.y, add.u1);
  <span style="color: red">connect</span>(onOff.y, sinSpeDX.on);
  <span style="color: red">connect</span>(TCIn.y, TCIn_K.Celsius);
  <span style="color: red">connect</span>(TEvaIn.y, TEvaIn_K.Celsius);
  <span style="color: red">connect</span>(sinSpeDX.QSen_flow, Q_flowSenMea.u);
  <span style="color: red">connect</span>(QCoo_flow.y, Q_flowMea.u);
  <span style="color: red">connect</span>(QCoo_flow.u1, sinSpeDX.QSen_flow);
  <span style="color: red">connect</span>(sinSpeDX.QLat_flow, QCoo_flow.u2);
  <span style="color: red">connect</span>(PEPlu_ori.y, PEPlu.u);
  <span style="color: red">connect</span>(Q_flowSenEPlu_ori.y, Q_flowSenEPlu.u);
  <span style="color: red">connect</span>(Q_flowSenEPlu.y, shrEPlu.u1);
  <span style="color: red">connect</span>(Q_flowEPlu_ori.y, Q_flowEPlu.u);
  <span style="color: red">connect</span>(TOutEPlu_ori.y, TOutEPlu.u);
  <span style="color: red">connect</span>(XEvaOutEPlu_ori.y, XEvaOutEPlu.u);
  <span style="color: red">connect</span>(multiSum.y, shrEPlu.u2);
  <span style="color: red">connect</span>(small.y, multiSum.u[1]);
  <span style="color: red">connect</span>(Q_flowEPlu.y, multiSum.u[2]);
<span style="color: blue">end </span>SingleSpeedValidationPLR;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SpaceCooling<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha7cc4d6872503cffdolingI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples</a>.SpaceCooling</h2>
<p>
<b>Space cooling with DX coils</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha7cc4d6872503cffdolingD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling">
</p>
<h3>Information</h3>

<p>
This model illustrates the use of the DX coil models with 
single speed compressor, multi-stage compressor, and variable
speed compressor.
The three systems all have the same simple model for a room, 
and the same HVAC components, except for the coil.
The top system has a DX coil with single speed compressor
and on/off control with dead-band.
The middle system has a DX coil with two stages, each
representing a different compressor speed.
The bottom system has a DX coil with variable speed control
for the compressor.
</p>
<p>
All coils are controlled based on the respective room air temperature.
The plot below shows how room air temperatures and humidity levels
are controlled with the respective coils.
The single speed coil has the highest room air humidity level because
during its off-time, water that accumulated on the coil evaporates 
into the air stream.
This effect is smaller for the coil with two compressor stages
and for the coil with variable compressor speed, as both of these coils
switch off less frequent.
</p>
<p align="center">
<img alt="image" src="../Resources/Images/Fluid/HeatExchangers/DXCoils/Examples/SpaceCooling.png" />
</p>
<h4>Implementation</h4>
<p>
The model is based on 
<a href="Buildings_Examples_Tutorial_SpaceCooling.html#Buildings.Examples.Tutorial.SpaceCooling.System3"
>
Buildings.Examples.Tutorial.SpaceCooling.System3</a>.
</p>

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a> (Icon for runnable examples).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td>Buildings.Media.GasesPTDecou...</td><td>&nbsp;</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Volume</a></td><td>V</td><td>6*10*3</td><td>Room volume [m3]</td></tr>
<tr><td>Real</td><td>eps</td><td>0.8</td><td>Heat recovery effectiveness</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TASup_nominal</td><td>273.15 + 18</td><td>Nominal air temperature supplied to room [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TRooSet</td><td>273.15 + 24</td><td>Nominal room air temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>TOut_nominal</td><td>273.15 + 30</td><td>Design outlet air temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>THeaRecLvg</td><td>TOut_nominal - eps*(TOut_nom...</td><td>Air temperature leaving the heat recovery [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>QRooInt_flow</td><td>1000</td><td>Internal heat gains of the room [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>QRooC_flow_nominal</td><td>-QRooInt_flow - 10E3/30*(TOu...</td><td>Nominal cooling load of the room [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mA_flow_nominal</td><td>1.3*QRooC_flow_nominal/1006/...</td><td>Nominal air mass flow rate, increased by factor 1.3 to allow for recovery after temperature setback [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>TemperatureDifference</a></td><td>dTFan</td><td>2</td><td>Estimated temperature raise across fan that needs to be made up by the cooling coil [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>QCoiC_flow_nominal</td><td>(QRooC_flow_nominal + mA_flo...</td><td>Cooling load of coil, taking into account economizer, and increased due to latent heat removal [W]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td>&nbsp;</td></tr>
<tr><td><a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>Bus</a></td><td>weaBus</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> SpaceCooling <span style="color: #006400">&quot;Space cooling with DX coils&quot;</span>
  <span style="color: blue">extends </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Icons.html#Modelica.Icons.Example"
>Modelica.Icons.Example</a>;
  <span style="color: blue">replaceable </span><span style="color: blue">package</span> Medium =
      <a href="Buildings_Media_GasesPTDecoupled_MoistAirUnsaturated.html#Buildings.Media.GasesPTDecoupled.MoistAirUnsaturated"
>Buildings.Media.GasesPTDecoupled.MoistAirUnsaturated</a>;

  <span style="color: blue">inner </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid.html#Modelica.Fluid.System"
>Modelica.Fluid.System</a> system;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Modelica.SIunits.Volume</a> V=6*10*3 <span style="color: #006400">&quot;Room volume&quot;</span>;
  <span style="color: #006400">//////////////////////////////////////////////////////////</span>
  <span style="color: #006400">// Heat recovery effectiveness</span>
  <span style="color: blue">parameter </span>Real eps = 0.8 <span style="color: #006400">&quot;Heat recovery effectiveness&quot;</span>;

  <span style="color: #006400">/////////////////////////////////////////////////////////</span>
  <span style="color: #006400">// Air temperatures at design conditions</span>
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TASup_nominal = 273.15+18 <span style="color: #006400">
    &quot;Nominal air temperature supplied to room&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TRooSet = 273.15+24 <span style="color: #006400">
    &quot;Nominal room air temperature&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> TOut_nominal = 273.15+30 <span style="color: #006400">
    &quot;Design outlet air temperature&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> THeaRecLvg=
    TOut_nominal - eps*(TOut_nominal-TRooSet) <span style="color: #006400">
    &quot;Air temperature leaving the heat recovery&quot;</span>;

  <span style="color: #006400">/////////////////////////////////////////////////////////</span>
  <span style="color: #006400">// Cooling loads and air mass flow rates</span>
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QRooInt_flow=
     1000 <span style="color: #006400">&quot;Internal heat gains of the room&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QRooC_flow_nominal=
    -QRooInt_flow-10E3/30*(TOut_nominal-TRooSet) <span style="color: #006400">
    &quot;Nominal cooling load of the room&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mA_flow_nominal=
    1.3*QRooC_flow_nominal/1006/(TASup_nominal-TRooSet) <span style="color: #006400">
    &quot;Nominal air mass flow rate, increased by factor 1.3 to allow for recovery after temperature setback&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.TemperatureDifference"
>Modelica.SIunits.TemperatureDifference</a> dTFan = 2 <span style="color: #006400">
    &quot;Estimated temperature raise across fan that needs to be made up by the cooling coil&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QCoiC_flow_nominal=
    (QRooC_flow_nominal + mA_flow_nominal*(TASup_nominal-THeaRecLvg-dTFan)*1006) <span style="color: #006400">
    &quot;Cooling load of coil, taking into account economizer, and increased due to latent heat removal&quot;</span>;

  <a href="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>Fluid.Movers.FlowMachine_m_flow</a> fan(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
      m_flow_nominal=mA_flow_nominal) <span style="color: #006400">&quot;Supply air fan&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.ConstantEffectiveness"
>Fluid.HeatExchangers.ConstantEffectiveness</a> hex(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium1 =
        <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_Medium.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.Medium"
>Medium</a>, <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium2 = <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_Medium.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.Medium"
>Medium</a>,
    m1_flow_nominal=mA_flow_nominal,
    m2_flow_nominal=mA_flow_nominal,
    dp1_nominal=200,
    dp2_nominal=200,
    eps=eps) <span style="color: #006400">&quot;Heat recovery&quot;</span>;
  <a href="Buildings_Fluid_Sources.html#Buildings.Fluid.Sources.Outside"
>Fluid.Sources.Outside</a> out(nPorts=6, <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium);
  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.ReaderTMY3"
>BoundaryConditions.WeatherData.ReaderTMY3</a> weaDat(
    pAtmSou=Buildings.BoundaryConditions.Types.DataSource.Parameter,
    TDryBul=TOut_nominal,
    filNam=&quot;modelica://Buildings/Resources/weatherdata/USA_IL_Chicago-OHare.Intl.AP.725300_TMY3.mos&quot;,
    TDryBulSou=Buildings.BoundaryConditions.Types.DataSource.File) <span style="color: #006400">
    &quot;Weather data reader&quot;</span>;
  <a href="Buildings_BoundaryConditions_WeatherData.html#Buildings.BoundaryConditions.WeatherData.Bus"
>BoundaryConditions.WeatherData.Bus</a> weaBus;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> mAir_flow(k=mA_flow_nominal) <span style="color: #006400">
    &quot;Fan air flow rate&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Fluid.Sensors.TemperatureTwoPort</a> senTemHXEvaOut(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        Medium, m_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Temperature sensor for heat recovery outlet on supply side&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Fluid.Sensors.TemperatureTwoPort</a> senTemSupAir(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        Medium, m_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Temperature sensor for supply air&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.OnOffController"
>Modelica.Blocks.Logical.OnOffController</a> con(bandwidth=1, pre_y_start=true) <span style="color: #006400">
    &quot;Controller for coil water flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> TRooSetPoi(k=TRooSet) <span style="color: #006400">
    &quot;Room temperature set point&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed"
>Buildings.Fluid.HeatExchangers.DXCoils.SingleSpeed</a> sinSpeDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    datCoi=datCoi,
    dp_nominal=400);

  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.SimpleRoom"
>SimpleRoom</a> rooSinSpe(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=2,
    QRooInt_flow=QRooInt_flow,
    mA_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Room model connected to single speed coil&quot;</span>;
  <a href="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>Fluid.Movers.FlowMachine_m_flow</a> fan1(
                                      <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
      m_flow_nominal=mA_flow_nominal) <span style="color: #006400">&quot;Supply air fan&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.ConstantEffectiveness"
>Fluid.HeatExchangers.ConstantEffectiveness</a> hex1(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium1 =
        <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_Medium.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.Medium"
>Medium</a>, <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium2 = <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_Medium.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.Medium"
>Medium</a>,
    m1_flow_nominal=mA_flow_nominal,
    m2_flow_nominal=mA_flow_nominal,
    dp1_nominal=200,
    dp2_nominal=200,
    eps=eps) <span style="color: #006400">&quot;Heat recovery&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Fluid.Sensors.TemperatureTwoPort</a> senTemHXEvaOut1(
                                               <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        Medium, m_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Temperature sensor for heat recovery outlet on supply side&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Fluid.Sensors.TemperatureTwoPort</a> senTemSupAir1(
                                                <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        Medium, m_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Temperature sensor for supply air&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.MultiStage"
>Buildings.Fluid.HeatExchangers.DXCoils.MultiStage</a> mulStaDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=400,
    datCoi=datCoiMulSpe) <span style="color: #006400">&quot;Multi-speed DX coil&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.SimpleRoom"
>SimpleRoom</a> rooMulSpe(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=2,
    QRooInt_flow=QRooInt_flow,
    mA_flow_nominal=mA_flow_nominal) <span style="color: #006400">&quot;Room model connected to multi stage coil&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil</a>
    datCoi(
     sta={
        <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=1800/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=QCoiC_flow_nominal,
          COP_nominal=3,
          SHR_nominal=0.7,
          m_flow_nominal=mA_flow_nominal),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_I</span>())},
          nSta=1);

  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Data_Generic.html#Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil"
>Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.DXCoil</a>
       datCoiMulSpe(nSta=2, sta=
       {<span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=900/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=QCoiC_flow_nominal*900/2400,
          COP_nominal=3,
          SHR_nominal=0.7,
          m_flow_nominal=mA_flow_nominal*900/2400),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_I</span>()),
              <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.Stage</span>(
        spe=2400/60,
        nomVal=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Data.Generic.BaseClasses.NominalValues</span>(
          Q_flow_nominal=QCoiC_flow_nominal,
          COP_nominal=3,
          SHR_nominal=0.7,
          m_flow_nominal=mA_flow_nominal),
        perCur=
          <span style="color: red">Buildings.Fluid.HeatExchangers.DXCoils.Examples.PerformanceCurves.Curve_III</span>())}) <span style="color: #006400">
    &quot;Coil data&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.ControllerTwoStage"
>ControllerTwoStage</a> mulSpeCon <span style="color: #006400">&quot;Controller for multi-stage coil&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.SimpleRoom"
>SimpleRoom</a> rooVarSpe(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    nPorts=2,
    QRooInt_flow=QRooInt_flow,
    mA_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Room model connected to variable speed coil&quot;</span>;
  <a href="Buildings_Fluid_Movers.html#Buildings.Fluid.Movers.FlowMachine_m_flow"
>Fluid.Movers.FlowMachine_m_flow</a> fan2(
                                      <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
      m_flow_nominal=mA_flow_nominal) <span style="color: #006400">&quot;Supply air fan&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Fluid.Sensors.TemperatureTwoPort</a> senTemSupAir2(
                                                <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        Medium, m_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Temperature sensor for supply air&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils.VariableSpeed"
>Buildings.Fluid.HeatExchangers.DXCoils.VariableSpeed</a> varSpeDX(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    dp_nominal=400,
    datCoi=datCoiMulSpe,
    minSpeRat=0.2) <span style="color: #006400">&quot;Variable-speed DX coil&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Fluid.Sensors.TemperatureTwoPort</a> senTemHXEvaOut2(
                                               <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        Medium, m_flow_nominal=mA_flow_nominal) <span style="color: #006400">
    &quot;Temperature sensor for heat recovery outlet on supply side&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.ConstantEffectiveness"
>Fluid.HeatExchangers.ConstantEffectiveness</a> hex2(
                                                 <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium1 =
        <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_Medium.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.Medium"
>Medium</a>, <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium2 = <a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples_Medium.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.Medium"
>Medium</a>,
    m1_flow_nominal=mA_flow_nominal,
    m2_flow_nominal=mA_flow_nominal,
    dp1_nominal=200,
    dp2_nominal=200,
    eps=eps) <span style="color: #006400">&quot;Heat recovery&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> sinSpePow(y(unit=&quot;J&quot;)) <span style="color: #006400">
    &quot;Power consumed by single speed coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> mulSpePow(y(unit=&quot;J&quot;)) <span style="color: #006400">
    &quot;Power consumed by multi-stage coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Continuous.html#Modelica.Blocks.Continuous.Integrator"
>Modelica.Blocks.Continuous.Integrator</a> varSpePow(y(unit=&quot;J&quot;)) <span style="color: #006400">
    &quot;Power consumed by multi-stage coil&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not1;
  <a href="Buildings_Controls_Continuous.html#Buildings.Controls.Continuous.LimPID"
>Buildings.Controls.Continuous.LimPID</a> conVarSpe(
    controllerType=Modelica.Blocks.Types.SimpleController.P,
    Ti=1,
    Td=1,
    reverseAction=true) <span style="color: #006400">&quot;Controller for variable speed DX coil&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(out.ports[1], hex.port_a1);
  <span style="color: red">connect</span>(out.ports[2], hex.port_b2);

  <span style="color: red">connect</span>(weaDat.weaBus, out.weaBus);
  <span style="color: red">connect</span>(weaDat.weaBus, weaBus);
  <span style="color: red">connect</span>(fan.m_flow_in, mAir_flow.y);
  <span style="color: red">connect</span>(hex.port_b1, senTemHXEvaOut.port_a);
  <span style="color: red">connect</span>(senTemSupAir.port_b, fan.port_a);
  <span style="color: red">connect</span>(senTemHXEvaOut.port_b, sinSpeDX.port_a);
  <span style="color: red">connect</span>(sinSpeDX.port_b, senTemSupAir.port_a);
<span style="color: blue">public </span>
  <span style="color: blue">model</span> SimpleRoom <span style="color: #006400">&quot;Simple model of a room&quot;</span>

    <span style="color: blue">replaceable </span><span style="color: blue">package</span> Medium =
          <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</a> <span style="color: #006400">&quot;Medium in the room&quot;</span>;

    <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> vol(
      <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
      m_flow_nominal=mA_flow_nominal,
      V=V,
      nPorts=2);
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalConductor"
>Modelica.Thermal.HeatTransfer.Components.ThermalConductor</a> theCon(G=10000/30) <span style="color: #006400">
      &quot;Thermal conductance with the ambient&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.PrescribedTemperature"
>Modelica.Thermal.HeatTransfer.Sources.PrescribedTemperature</a> TOut <span style="color: #006400">
      &quot;Outside temperature&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow</a> preHea(Q_flow=
          QRooInt_flow) <span style="color: #006400">&quot;Prescribed heat flow&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sensors.html#Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor"
>Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor</a> senTemRoo <span style="color: #006400">
      &quot;Room temperature sensor&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.HeatCapacitor"
>Modelica.Thermal.HeatTransfer.Components.HeatCapacitor</a> heaCap(C=2*V*1.2*1006) <span style="color: #006400">
      &quot;Heat capacity for furniture and walls&quot;</span>;

    <span style="color: blue">parameter </span>Integer nPorts=0 <span style="color: #006400">&quot;Number of ports&quot;</span>;
    <span style="color: blue">final </span><span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Modelica.SIunits.Volume</a> V=6*10*3 <span style="color: #006400">&quot;Room volume&quot;</span>;
    <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QRooInt_flow <span style="color: #006400">
      &quot;Internal heat gains of the room&quot;</span>;

    <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mA_flow_nominal <span style="color: #006400">
      &quot;Nominal air mass flow rate&quot;</span>;

    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TOutDryBul <span style="color: #006400">
      &quot;Outdoor drybulb temperature&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TRoo(unit=&quot;K&quot;) <span style="color: #006400">&quot;Room temperature&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Vessels_BaseClasses.html#Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b"
>Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b</a> ports[nPorts](<span style="color: blue">redeclare </span><span style="color: blue">
        each </span><span style="color: blue">package</span> Medium =
                         Medium);
  <span style="color: blue">equation </span>
    <span style="color: red">connect</span>(theCon.port_b,vol. heatPort);
    <span style="color: red">connect</span>(preHea.port,vol. heatPort);
    <span style="color: red">connect</span>(TOut.port,theCon. port_a);
    <span style="color: red">connect</span>(vol.heatPort,senTemRoo. port);
    <span style="color: red">connect</span>(heaCap.port,vol. heatPort);
    <span style="color: red">connect</span>(TRoo, senTemRoo.T);
    <span style="color: red">connect</span>(ports, vol.ports);
    <span style="color: red">connect</span>(TOut.T, TOutDryBul);
  <span style="color: blue">end </span>SimpleRoom;
<span style="color: blue">equation </span>

  <span style="color: red">connect</span>(sinSpeDX.TConIn, weaBus.TDryBul);
  <span style="color: red">connect</span>(fan.port_b, rooSinSpe.ports[1]);
  <span style="color: red">connect</span>(rooSinSpe.ports[2], hex.port_a2);

  <span style="color: red">connect</span>(hex1.port_b1, senTemHXEvaOut1.port_a);
  <span style="color: red">connect</span>(senTemSupAir1.port_b, fan1.port_a);
  <span style="color: red">connect</span>(senTemHXEvaOut1.port_b, mulStaDX.port_a);
  <span style="color: red">connect</span>(mulStaDX.port_b, senTemSupAir1.port_a);
  <span style="color: red">connect</span>(mulStaDX.TConIn, weaBus.TDryBul);

  <span style="color: red">connect</span>(fan1.port_b, rooMulSpe.ports[1]);
  <span style="color: red">connect</span>(rooMulSpe.ports[2], hex1.port_a2);

  <span style="color: red">connect</span>(rooMulSpe.TOutDryBul, weaBus.TDryBul);
<span style="color: blue">public </span>
  <span style="color: blue">model</span> ControllerTwoStage <span style="color: #006400">&quot;Controller for two stage coil&quot;</span>
    <span style="color: blue">parameter </span>Real bandwidth=1 <span style="color: #006400">&quot;Bandwidth around reference signal&quot;</span>;
    <span style="color: blue">extends </span><a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.OnOffController"
>Modelica.Blocks.Logical.OnOffController</a> con1(bandwidth=bandwidth/2,
        pre_y_start=true) <span style="color: #006400">&quot;Controller for coil water flow rate&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.OnOffController"
>Modelica.Blocks.Logical.OnOffController</a> con2(bandwidth=bandwidth/2,
        pre_y_start=true) <span style="color: #006400">&quot;Controller for coil water flow rate&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> reference <span style="color: #006400">
      &quot;Connector of Real input signal used as reference signal&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add(k2=-1);
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=bandwidth/2);

    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add1;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_MathInteger.html#Modelica.Blocks.MathInteger.MultiSwitch"
>Modelica.Blocks.MathInteger.MultiSwitch</a> multiSwitch1(
      expr={2,1},
      y_default=0,
      use_pre_as_default=false,
      nu=2);
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>Modelica.Blocks.Interfaces.IntegerOutput</a> stage <span style="color: #006400">&quot;Coil stage control signal&quot;</span>;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not1;
    <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not2;
  <span style="color: blue">equation </span>
    <span style="color: red">connect</span>(con1.reference, reference);
    <span style="color: red">connect</span>(const.y, add.u2);
    <span style="color: red">connect</span>(const.y, add1.u1);
    <span style="color: red">connect</span>(add.u1, u);
    <span style="color: red">connect</span>(add1.u2, u);
    <span style="color: red">connect</span>(add.y, con1.u);
    <span style="color: red">connect</span>(add1.y, con2.u);
    <span style="color: red">connect</span>(reference, con2.reference);
    <span style="color: red">connect</span>(multiSwitch1.y, stage);
    <span style="color: red">connect</span>(not2.y, multiSwitch1.u[1]);
    <span style="color: red">connect</span>(not1.y, multiSwitch1.u[2]);
    <span style="color: red">connect</span>(con1.y, not1.u);
    <span style="color: red">connect</span>(con2.y, not2.u);
  <span style="color: blue">end </span>ControllerTwoStage;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(mulSpeCon.stage, mulStaDX.stage);
  <span style="color: red">connect</span>(rooVarSpe.TOutDryBul, weaBus.TDryBul);
  <span style="color: red">connect</span>(senTemSupAir2.port_b,fan2. port_a);
  <span style="color: red">connect</span>(varSpeDX.port_b, senTemSupAir2.port_a);
  <span style="color: red">connect</span>(senTemHXEvaOut2.port_b, varSpeDX.port_a);
  <span style="color: red">connect</span>(varSpeDX.TConIn, weaBus.TDryBul);
  <span style="color: red">connect</span>(hex2.port_b1,senTemHXEvaOut2. port_a);
  <span style="color: red">connect</span>(out.ports[3], hex1.port_a1);
  <span style="color: red">connect</span>(out.ports[4], hex1.port_b2);
  <span style="color: red">connect</span>(out.ports[5], hex2.port_a1);
  <span style="color: red">connect</span>(out.ports[6], hex2.port_b2);
  <span style="color: red">connect</span>(fan2.port_b, rooVarSpe.ports[1]);
  <span style="color: red">connect</span>(rooVarSpe.ports[2], hex2.port_a2);

  <span style="color: red">connect</span>(mAir_flow.y, fan1.m_flow_in);
  <span style="color: red">connect</span>(mAir_flow.y, fan2.m_flow_in);
  <span style="color: red">connect</span>(rooSinSpe.TOutDryBul, weaBus.TDryBul);
  <span style="color: red">connect</span>(sinSpePow.u, sinSpeDX.P);
  <span style="color: red">connect</span>(mulSpePow.u, mulStaDX.P);
  <span style="color: red">connect</span>(varSpeDX.P, varSpePow.u);
  <span style="color: red">connect</span>(TRooSetPoi.y, con.reference);
  <span style="color: red">connect</span>(rooSinSpe.TRoo, con.u);

  <span style="color: red">connect</span>(not1.u, con.y);
  <span style="color: red">connect</span>(not1.y, sinSpeDX.on);
  <span style="color: red">connect</span>(mulSpeCon.reference, TRooSetPoi.y);
  <span style="color: red">connect</span>(rooMulSpe.TRoo, mulSpeCon.u);
  <span style="color: red">connect</span>(TRooSetPoi.y, conVarSpe.u_s);
  <span style="color: red">connect</span>(conVarSpe.u_m, rooVarSpe.TRoo);

  <span style="color: red">connect</span>(conVarSpe.y, varSpeDX.speRat);
<span style="color: blue">end </span>SpaceCooling;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE SimpleRoom<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchad810483c205839c6eRoomI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.SimpleRoom" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.SimpleRoom"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling</a>.SimpleRoom</h2>
<p>
<b>Simple model of a room</b>
<br>
<br><img src="Buildings.Fluid.HeatExchad810483c205839c6eRoomD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.SimpleRoom">
</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td>Modelica.Media.Interfaces.Pa...</td><td>Medium in the room</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>QRooInt_flow</td><td>&nbsp;</td><td>Internal heat gains of the room [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mA_flow_nominal</td><td>&nbsp;</td><td>Nominal air mass flow rate [kg/s]</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td>Medium in the room</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>TOutDryBul</td><td>Outdoor drybulb temperature</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>RealOutput</a></td><td>TRoo</td><td>Room temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Vessels_BaseClasses.html#Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b"
>VesselFluidPorts_b</a></td><td>ports[nPorts]</td><td>&nbsp;</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> SimpleRoom <span style="color: #006400">&quot;Simple model of a room&quot;</span>

  <span style="color: blue">replaceable </span><span style="color: blue">package</span> Medium =
        <a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>Modelica.Media.Interfaces.PartialMedium</a> <span style="color: #006400">&quot;Medium in the room&quot;</span>;

  <a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> vol(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = Medium,
    m_flow_nominal=mA_flow_nominal,
    V=V,
    nPorts=2);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.ThermalConductor"
>Modelica.Thermal.HeatTransfer.Components.ThermalConductor</a> theCon(G=10000/30) <span style="color: #006400">
    &quot;Thermal conductance with the ambient&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.PrescribedTemperature"
>Modelica.Thermal.HeatTransfer.Sources.PrescribedTemperature</a> TOut <span style="color: #006400">
    &quot;Outside temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sources.html#Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow"
>Modelica.Thermal.HeatTransfer.Sources.FixedHeatFlow</a> preHea(Q_flow=
        QRooInt_flow) <span style="color: #006400">&quot;Prescribed heat flow&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Sensors.html#Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor"
>Modelica.Thermal.HeatTransfer.Sensors.TemperatureSensor</a> senTemRoo <span style="color: #006400">
    &quot;Room temperature sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Thermal_HeatTransfer_Components.html#Modelica.Thermal.HeatTransfer.Components.HeatCapacitor"
>Modelica.Thermal.HeatTransfer.Components.HeatCapacitor</a> heaCap(C=2*V*1.2*1006) <span style="color: #006400">
    &quot;Heat capacity for furniture and walls&quot;</span>;

  <span style="color: blue">parameter </span>Integer nPorts=0 <span style="color: #006400">&quot;Number of ports&quot;</span>;
  <span style="color: blue">final </span><span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Volume"
>Modelica.SIunits.Volume</a> V=6*10*3 <span style="color: #006400">&quot;Room volume&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QRooInt_flow <span style="color: #006400">
    &quot;Internal heat gains of the room&quot;</span>;

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mA_flow_nominal <span style="color: #006400">
    &quot;Nominal air mass flow rate&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> TOutDryBul <span style="color: #006400">&quot;Outdoor drybulb temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealOutput"
>Modelica.Blocks.Interfaces.RealOutput</a> TRoo(unit=&quot;K&quot;) <span style="color: #006400">&quot;Room temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Vessels_BaseClasses.html#Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b"
>Modelica.Fluid.Vessels.BaseClasses.VesselFluidPorts_b</a> ports[nPorts](<span style="color: blue">redeclare </span><span style="color: blue">
      each </span><span style="color: blue">package</span> Medium =
                       Medium);
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(theCon.port_b,vol. heatPort);
  <span style="color: red">connect</span>(preHea.port,vol. heatPort);
  <span style="color: red">connect</span>(TOut.port,theCon. port_a);
  <span style="color: red">connect</span>(vol.heatPort,senTemRoo. port);
  <span style="color: red">connect</span>(heaCap.port,vol. heatPort);
  <span style="color: red">connect</span>(TRoo, senTemRoo.T);
  <span style="color: red">connect</span>(ports, vol.ports);
  <span style="color: red">connect</span>(TOut.T, TOutDryBul);
<span style="color: blue">end </span>SimpleRoom;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ControllerTwoStage<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchae6dbb461fe394a24StageI.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.ControllerTwoStage" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.ControllerTwoStage"></a><a href="Buildings_Fluid_HeatExchangers_DXCoils_Examples.html#Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling"
>Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling</a>.ControllerTwoStage</h2>
<p>
<b>Controller for two stage coil</b>
<br>
<br><img src="Buildings.Fluid.HeatExchae6dbb461fe394a24StageD.png" alt="Buildings.Fluid.HeatExchangers.DXCoils.Examples.SpaceCooling.ControllerTwoStage">
</p>
<h3>Information</h3>
<p>Extends from <a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a> (Base icon).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td>Real</td><td>bandwidth</td><td>1</td><td>Bandwidth around reference signal</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>&nbsp;</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>reference</td><td>Connector of Real input signal used as reference signal</td></tr>
<tr><td>output <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>IntegerOutput</a></td><td>stage</td><td>Coil stage control signal</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> ControllerTwoStage <span style="color: #006400">&quot;Controller for two stage coil&quot;</span>
  <span style="color: blue">parameter </span>Real bandwidth=1 <span style="color: #006400">&quot;Bandwidth around reference signal&quot;</span>;
  <span style="color: blue">extends </span><a href="Buildings_BaseClasses.html#Buildings.BaseClasses.BaseIcon"
>Buildings.BaseClasses.BaseIcon</a>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.OnOffController"
>Modelica.Blocks.Logical.OnOffController</a> con1(bandwidth=bandwidth/2,
      pre_y_start=true) <span style="color: #006400">&quot;Controller for coil water flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.OnOffController"
>Modelica.Blocks.Logical.OnOffController</a> con2(bandwidth=bandwidth/2,
      pre_y_start=true) <span style="color: #006400">&quot;Controller for coil water flow rate&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> reference <span style="color: #006400">
    &quot;Connector of Real input signal used as reference signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add(k2=-1);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Sources.html#Modelica.Blocks.Sources.Constant"
>Modelica.Blocks.Sources.Constant</a> const(k=bandwidth/2);

  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Add"
>Modelica.Blocks.Math.Add</a> add1;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_MathInteger.html#Modelica.Blocks.MathInteger.MultiSwitch"
>Modelica.Blocks.MathInteger.MultiSwitch</a> multiSwitch1(
    expr={2,1},
    y_default=0,
    use_pre_as_default=false,
    nu=2);
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.IntegerOutput"
>Modelica.Blocks.Interfaces.IntegerOutput</a> stage <span style="color: #006400">&quot;Coil stage control signal&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not1;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Logical.html#Modelica.Blocks.Logical.Not"
>Modelica.Blocks.Logical.Not</a> not2;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(con1.reference, reference);
  <span style="color: red">connect</span>(const.y, add.u2);
  <span style="color: red">connect</span>(const.y, add1.u1);
  <span style="color: red">connect</span>(add.u1, u);
  <span style="color: red">connect</span>(add1.u2, u);
  <span style="color: red">connect</span>(add.y, con1.u);
  <span style="color: red">connect</span>(add1.y, con2.u);
  <span style="color: red">connect</span>(reference, con2.reference);
  <span style="color: red">connect</span>(multiSwitch1.y, stage);
  <span style="color: red">connect</span>(not2.y, multiSwitch1.u[1]);
  <span style="color: red">connect</span>(not1.y, multiSwitch1.u[2]);
  <span style="color: red">connect</span>(con1.y, not1.u);
  <span style="color: red">connect</span>(con2.y, not2.u);
<span style="color: blue">end </span>ControllerTwoStage;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Thu Jun 19 10:56:03 2014.
</address>
</body>
</html>
