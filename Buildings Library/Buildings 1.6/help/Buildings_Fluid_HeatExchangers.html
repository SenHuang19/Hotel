<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Buildings.Fluid.HeatExchangers</title>
<meta name="HTML-Generator" content="Dymola">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="&quot;Package with heat exchanger models&quot;">
<style type="text/css">
*       { font-size: 10pt; font-family: Arial, sans-serif; }
.modelica, .modelica * { font-size: 9pt; font-family: Courier, monospace; white-space: pre; }
h4      { font-size: 10pt; font-weight: bold; color: green; }
h3      { font-size: 11pt; font-weight: bold; color: green; }
h2      { font-size: 13pt; font-weight: bold; color: green; }
address { font-weight: normal; }
td      { border: 1px solid #808080; vertical-align: top; }
th      { border: 1px solid #808080; vertical-align: top; font-weight: bold; }
table   { border: 1px solid #808080; border-collapse: collapse; }
</style>
<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../Resources/www/modelicaDoc.css">
</HEAD>
<body>
<!-- --- header ------ -->
<div class="headerStyle">
<img src="../Resources/www/lbl-logo.png" alt="LBL logo"/>
</div>
<div class="headerLinks">
<ul><li><a href="http://simulationresearch.lbl.gov/modelica">Home</a> &gt; <a href="Buildings.html">Modelica</a></li></ul>
</div>
<!-- --- end header -- -->

<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE HeatExchangers<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><a name="Buildings.Fluid.HeatExchangers"></a><a href="Buildings_Fluid.html#Buildings.Fluid"
>Buildings.Fluid</a>.HeatExchangers</h2>
<p>
<b>Package with heat exchanger models</b><br>
</p>
<h3>Information</h3>

This package contains models for heat exchangers with and without humidity condensation.

<p>Extends from <a href="../../msl/Modelica%203.2.1/help/Modelica_Icons_VariantsPackage.html#Modelica.Icons.VariantsPackage"
>Modelica.Icons.VariantsPackage</a> (Icon for package containing variants).</p>
<h3>Package Content</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Package Content">
<tr>
<th>Name</th>
<th>Description</th>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchangers.BoreholesS.png" alt="Buildings.Fluid.HeatExchangers.Boreholes" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_Boreholes.html#Buildings.Fluid.HeatExchangers.Boreholes"
>Boreholes</a>
</td>
<td>Package with borehole heat exchangers</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchangers.BoreholesS.png" alt="Buildings.Fluid.HeatExchangers.CoolingTowers" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_CoolingTowers.html#Buildings.Fluid.HeatExchangers.CoolingTowers"
>CoolingTowers</a>
</td>
<td>Package with cooling tower models</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchangers.BoreholesS.png" alt="Buildings.Fluid.HeatExchangers.DXCoils" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_DXCoils.html#Buildings.Fluid.HeatExchangers.DXCoils"
>DXCoils</a>
</td>
<td>DX(Direct Expansion) cooling coil models</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchangers.BoreholesS.png" alt="Buildings.Fluid.HeatExchangers.RadiantSlabs" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_RadiantSlabs.html#Buildings.Fluid.HeatExchangers.RadiantSlabs"
>RadiantSlabs</a>
</td>
<td>Package with radiant slab models</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchangers.BoreholesS.png" alt="Buildings.Fluid.HeatExchangers.Radiators" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_Radiators.html#Buildings.Fluid.HeatExchangers.Radiators"
>Radiators</a>
</td>
<td>Package with radiators models for hydronic space heating systems</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha5646c6cf54136ee9enessS.png" alt="Buildings.Fluid.HeatExchangers.ConstantEffectiveness" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.ConstantEffectiveness"
>ConstantEffectiveness</a>
</td>
<td>Heat exchanger with constant effectiveness</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha6f338ce72407a60erFlowS.png" alt="Buildings.Fluid.HeatExchangers.DryCoilCounterFlow" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilCounterFlow"
>DryCoilCounterFlow</a>
</td>
<td>Counterflow coil with discretization along the flow paths and without humidity condensation</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha49e904f1a46cb934tizedS.png" alt="Buildings.Fluid.HeatExchangers.DryCoilDiscretized" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilDiscretized"
>DryCoilDiscretized</a>
</td>
<td>Coil with discretization along the flow paths and no humidity condensation</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha0ebf5c2de1c46b25ssNTUS.png" alt="Buildings.Fluid.HeatExchangers.DryEffectivenessNTU" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryEffectivenessNTU"
>DryEffectivenessNTU</a>
</td>
<td>Heat exchanger with effectiveness - NTU relation and no moisture condensation</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchaf13a6bf1f04387dcribedS.png" alt="Buildings.Fluid.HeatExchangers.HeaterCoolerPrescribed" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.HeaterCoolerPrescribed"
>HeaterCoolerPrescribed</a>
</td>
<td>Heater or cooler with prescribed heat flow rate</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha84a9dffc2670ce0erFlowS.png" alt="Buildings.Fluid.HeatExchangers.WetCoilCounterFlow" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.WetCoilCounterFlow"
>WetCoilCounterFlow</a>
</td>
<td>Counterflow coil with discretization along the flow paths and humidity condensation</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha5f5f5806a61bd134tizedS.png" alt="Buildings.Fluid.HeatExchangers.WetCoilDiscretized" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.WetCoilDiscretized"
>WetCoilDiscretized</a>
</td>
<td>Coil with discretization along the flow paths and humidity condensation</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExchangers.ExamplesS.png" alt="Buildings.Fluid.HeatExchangers.Examples" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_Examples.html#Buildings.Fluid.HeatExchangers.Examples"
>Examples</a>
</td>
<td>Collection of models that illustrate model use and test models</td>
</tr>
<tr>
<td><img src="Buildings.Fluid.HeatExcha65679176979eba56assesS.png" alt="Buildings.Fluid.HeatExchangers.BaseClasses" width="20" height="20" align="top">&nbsp;<a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses"
>BaseClasses</a>
</td>
<td>Package with base classes for Buildings.Fluid.HeatExchangers</td>
</tr>
</table>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE ConstantEffectiveness<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha5646c6cf54136ee9enessI.png" alt="Buildings.Fluid.HeatExchangers.ConstantEffectiveness" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.ConstantEffectiveness"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.ConstantEffectiveness</h2>
<p>
<b>Heat exchanger with constant effectiveness</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha5646c6cf54136ee9enessD.png" alt="Buildings.Fluid.HeatExchangers.ConstantEffectiveness">
</p>
<h3>Information</h3>

<p>
Model for a heat exchanger with constant effectiveness.
</p>
<p>
This model transfers heat in the amount of
</p>
<p align="center" style="font-style:italic;">
  Q = Q<sub>max</sub> &epsilon;,
</p>
<p>
where <i>&epsilon;</i> is a constant effectiveness and 
<i>Q<sub>max</sub></i> is the maximum heat that can be transferred.
</p>
<p>
For a heat and moisture exchanger, use
<a href="Buildings_Fluid_MassExchangers.html#Buildings.Fluid.MassExchangers.ConstantEffectiveness"
>
Buildings.Fluid.MassExchangers.ConstantEffectiveness</a>
instead of this model.
</p>

<p>Extends from <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness</a> (Partial model to implement heat exchangers based on effectiveness model).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium1</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 1 in the component</td></tr>
<tr><td colspan="2">replaceable package Medium2</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 2 in the component</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>Q1_flow</td><td>eps*QMax_flow</td><td>Heat transfered into the medium 1 [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>mWat1_flow</td><td>0</td><td>Moisture mass flow rate added to the medium 1 [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>Q2_flow</td><td>-Q1_flow</td><td>Heat transfered into the medium 2 [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>mWat2_flow</td><td>0</td><td>Moisture mass flow rate added to the medium 2 [kg/s]</td></tr>
<tr><td>Boolean</td><td>sensibleOnly1</td><td>true</td><td>Set to true if sensible exchange only for medium 1</td></tr>
<tr><td>Boolean</td><td>sensibleOnly2</td><td>true</td><td>Set to true if sensible exchange only for medium 2</td></tr>
<tr><td>Real</td><td>eps</td><td>0.8</td><td>Heat exchanger effectiveness [1]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow.start</td><td>0</td><td>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1.start</td><td>0</td><td>Pressure difference between port_a1 and port_b1 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow.start</td><td>0</td><td>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2.start</td><td>0</td><td>Pressure difference between port_a2 and port_b2 [Pa]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal1</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr><td>Boolean</td><td>allowFlowReversal2</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port a1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port b1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port a2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port b2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_small</td><td>1E-4*abs(m1_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_small</td><td>1E-4*abs(m2_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 1</td></tr>
<tr><td>Boolean</td><td>from_dp1</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance1</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM1</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 2</td></tr>
<tr><td>Boolean</td><td>from_dp2</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance2</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM2</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a1</td><td>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b1</td><td>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a2</td><td>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b2</td><td>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> ConstantEffectiveness <span style="color: #006400">
  &quot;Heat exchanger with constant effectiveness&quot;</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness</a>(
    sensibleOnly1 = true,
    sensibleOnly2 = true,
    Q1_flow = eps * QMax_flow,
    Q2_flow = -Q1_flow,
    mWat1_flow = 0,
    mWat2_flow = 0);

  <span style="color: blue">parameter </span>Real eps(min=0, max=1, unit=&quot;1&quot;) = 0.8 <span style="color: #006400">
    &quot;Heat exchanger effectiveness&quot;</span>;
<span style="color: blue">equation </span>

<span style="color: blue">end </span>ConstantEffectiveness;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DryCoilCounterFlow<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha6f338ce72407a60erFlowI.png" alt="Buildings.Fluid.HeatExchangers.DryCoilCounterFlow" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DryCoilCounterFlow"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.DryCoilCounterFlow</h2>
<p>
<b>Counterflow coil with discretization along the flow paths and without humidity condensation</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha6f338ce72407a60erFlowD.png" alt="Buildings.Fluid.HeatExchangers.DryCoilCounterFlow">
</p>
<h3>Information</h3>

<p>
Model of a discretized coil without water vapor condensation.
The coil consists of two flow paths which are, at the design flow direction,
in opposite direction to model a counterflow heat exchanger.
The flow paths are discretized into <code>nEle</code> elements. 
Each element is modeled by an instance of
<a href="modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElement">
Buildings.Fluid.HeatExchangers.BaseClasses.HexElement</a>.
Each element has a state variable for the metal. Depending
on the value of the boolean parameters <code>steadyState_1</code> and
<code>steadyState_2</code>, the fluid states are modeled dynamically or in steady
state.
</p>
<p>
The convective heat transfer coefficients can, for each fluid individually, be 
computed as a function of the flow rate and/or the temperature,
or assigned to a constant. This computation is done using an instance of
<a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>
Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil</a>.
</p>
<p>
To model humidity condensation, use the model 
<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.WetCoilCounterFlow"
>
Buildings.Fluid.HeatExchangers.WetCoilCounterFlow</a> instead of this model, as
this model computes only sensible heat transfer.
</p>

<p>Extends from <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.PartialFourPortInterface"
>Fluid.Interfaces.PartialFourPortInterface</a> (Partial model transporting fluid between two ports without storing mass or energy), <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters</a> (Parameters for flow resistance for models with four ports).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium1</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 1 in the component</td></tr>
<tr><td colspan="2">replaceable package Medium2</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 2 in the component</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</a></td><td>UA_nominal</td><td>&nbsp;</td><td>Thermal conductance at nominal flow, used to compute heat capacity [W/K]</td></tr>
<tr><td>Real</td><td>r_nominal</td><td>2/3</td><td>Ratio between air-side and water-side convective heat transfer coefficient</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau1</td><td>20</td><td>Time constant at nominal flow for medium 1 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau2</td><td>1</td><td>Time constant at nominal flow for medium 2 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau_m</td><td>20</td><td>Time constant of metal at nominal UA value [s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow.start</td><td>0</td><td>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1.start</td><td>0</td><td>Pressure difference between port_a1 and port_b1 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow.start</td><td>0</td><td>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2.start</td><td>0</td><td>Pressure difference between port_a2 and port_b2 [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Geometry</td></tr>
<tr><td>Integer</td><td>nEle</td><td>4</td><td>Number of pipe segments used for discretization</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal1</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr><td>Boolean</td><td>allowFlowReversal2</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port a1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port b1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port a2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port b2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_small</td><td>1E-4*abs(m1_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_small</td><td>1E-4*abs(m2_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 1</td></tr>
<tr><td>Boolean</td><td>computeFlowResistance1</td><td>false</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp1</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance1</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM1</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 2</td></tr>
<tr><td>Boolean</td><td>computeFlowResistance2</td><td>false</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp2</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance2</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM2</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics1</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 1</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics2</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 2</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Heat transfer</b></td></tr>
<tr><td>Boolean</td><td>waterSideFlowDependent</td><td>true</td><td>Set to false to make water-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>airSideFlowDependent</td><td>true</td><td>Set to false to make air-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>waterSideTemperatureDependent</td><td>false</td><td>Set to false to make water-side hA independent of temperature</td></tr>
<tr><td>Boolean</td><td>airSideTemperatureDependent</td><td>false</td><td>Set to false to make air-side hA independent of temperature</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a1</td><td>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b1</td><td>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a2</td><td>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b2</td><td>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> DryCoilCounterFlow <span style="color: #006400">
  &quot;Counterflow coil with discretization along the flow paths and without humidity condensation&quot;</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.PartialFourPortInterface"
>Fluid.Interfaces.PartialFourPortInterface</a>(show_T=false);
  <span style="color: blue">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters</a>(
    <span style="color: blue">final </span>computeFlowResistance1=false,
    <span style="color: blue">final </span>computeFlowResistance2=false,
    from_dp1=false,
    from_dp2=false);

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> UA_nominal(min=0) <span style="color: #006400">
    &quot;Thermal conductance at nominal flow, used to compute heat capacity&quot;</span>;
  <span style="color: blue">parameter </span>Real r_nominal=2/3 <span style="color: #006400">
    &quot;Ratio between air-side and water-side convective heat transfer coefficient&quot;</span>;
  <span style="color: blue">parameter </span>Integer nEle(min=1) = 4 <span style="color: #006400">
    &quot;Number of pipe segments used for discretization&quot;</span>;

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</a> energyDynamics1=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <span style="color: #006400">
    &quot;Default formulation of energy balances for volume 1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</a> energyDynamics2=Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <span style="color: #006400">
    &quot;Default formulation of energy balances for volume 2&quot;</span>;

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> tau1=20 <span style="color: #006400">
    &quot;Time constant at nominal flow for medium 1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> tau2=1 <span style="color: #006400">
    &quot;Time constant at nominal flow for medium 2&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> tau_m=20 <span style="color: #006400">
    &quot;Time constant of metal at nominal UA value&quot;</span>;

  <span style="color: blue">parameter </span>Boolean waterSideFlowDependent=true <span style="color: #006400">
    &quot;Set to false to make water-side hA independent of mass flow rate&quot;</span>;
  <span style="color: blue">parameter </span>Boolean airSideFlowDependent=true <span style="color: #006400">
    &quot;Set to false to make air-side hA independent of mass flow rate&quot;</span>;
  <span style="color: blue">parameter </span>Boolean waterSideTemperatureDependent=false <span style="color: #006400">
    &quot;Set to false to make water-side hA independent of temperature&quot;</span>;
  <span style="color: blue">parameter </span>Boolean airSideTemperatureDependent=false <span style="color: #006400">
    &quot;Set to false to make air-side hA independent of temperature&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> Q1_flow <span style="color: #006400">
    &quot;Heat transfered from solid into medium 1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> Q2_flow <span style="color: #006400">
    &quot;Heat transfered from solid into medium 2&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T1[nEle] <span style="color: #006400">&quot;Water temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T2[nEle] <span style="color: #006400">&quot;Air temperature&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_m[nEle] <span style="color: #006400">&quot;Metal temperature&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>BaseClasses.HADryCoil</a> hA(
    <span style="color: blue">final </span>UA_nominal=UA_nominal,
    <span style="color: blue">final </span>m_flow_nominal_a=m2_flow_nominal,
    <span style="color: blue">final </span>m_flow_nominal_w=m1_flow_nominal,
    <span style="color: blue">final </span>waterSideTemperatureDependent=waterSideTemperatureDependent,
    <span style="color: blue">final </span>waterSideFlowDependent=waterSideFlowDependent,
    <span style="color: blue">final </span>airSideTemperatureDependent=airSideTemperatureDependent,
    <span style="color: blue">final </span>airSideFlowDependent=airSideFlowDependent,
    r_nominal=r_nominal) <span style="color: #006400">&quot;Model for convective heat transfer coefficient&quot;</span>;
<span style="color: blue">protected </span>
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temSen_1(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium
      = <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>,
    allowFlowReversal=allowFlowReversal1,
    m_flow_nominal=m1_flow_nominal) <span style="color: #006400">&quot;Temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</a> masFloSen_1(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>) <span style="color: #006400">&quot;Mass flow rate sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temSen_2(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium
      = <a href="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</a>,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal2,
    m_flow_nominal=m2_flow_nominal) <span style="color: #006400">&quot;Temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</a> masFloSen_2(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        <a href="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</a>) <span style="color: #006400">&quot;Mass flow rate sensor&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gai_1(k=1/nEle) <span style="color: #006400">
    &quot;Gain medium-side 1 to take discretization into account&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gai_2(k=1/nEle) <span style="color: #006400">
    &quot;Gain medium-side 2 to take discretization into account&quot;</span>;

  <span style="color: blue">replaceable </span><a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementSensible"
>BaseClasses.HexElementSensible</a> ele[nEle]
  <span style="color: blue">constrainedby </span>BaseClasses.PartialHexElement(
    <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">package</span> Medium1 = Medium1,
    <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">package</span> Medium2 = Medium2,
    <span style="color: blue">each </span>allowFlowReversal1=allowFlowReversal1,
    <span style="color: blue">each </span>allowFlowReversal2=allowFlowReversal2,
    <span style="color: blue">each </span>tau1=tau1/nEle,
    <span style="color: blue">each </span>m1_flow_nominal=m1_flow_nominal,
    <span style="color: blue">each </span>tau2=tau2,
    <span style="color: blue">each </span>m2_flow_nominal=m2_flow_nominal,
    <span style="color: blue">each </span>tau_m=tau_m/nEle,
    <span style="color: blue">each </span>UA_nominal=UA_nominal/nEle,
    <span style="color: blue">each </span>energyDynamics1=energyDynamics1,
    <span style="color: blue">each </span>energyDynamics2=energyDynamics2,
    <span style="color: blue">each </span>deltaM1=deltaM1,
    <span style="color: blue">each </span>deltaM2=deltaM2,
    <span style="color: blue">each </span>from_dp1=from_dp1,
    <span style="color: blue">each </span>from_dp2=from_dp2,
    dp1_nominal={<span style="color: blue">if </span>i == 1<span style="color: blue"> then </span>dp1_nominal<span style="color: blue"> else </span>0 <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle},
    dp2_nominal={<span style="color: blue">if </span>i == nEle<span style="color: blue"> then </span>dp2_nominal<span style="color: blue"> else </span>0 <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle}) <span style="color: #006400">
    &quot;Heat exchanger element&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</a> rep1(nout=nEle) <span style="color: #006400">&quot;Signal replicator&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Routing.html#Modelica.Blocks.Routing.Replicator"
>Modelica.Blocks.Routing.Replicator</a> rep2(nout=nEle) <span style="color: #006400">&quot;Signal replicator&quot;</span>;

<span style="color: blue">initial </span><span style="color: blue">equation </span>
  <span style="color: red">assert</span>(UA_nominal &gt; 0,
    &quot;Parameter UA_nominal is negative. Check heat exchanger parameters.&quot;);
<span style="color: blue">equation </span>
  Q1_flow =<span style="color: red"> sum</span>(ele[i].Q1_flow <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle);
  Q2_flow =<span style="color: red"> sum</span>(ele[i].Q2_flow <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle);
  T1[:] = ele[:].vol1.T;
  T2[:] = ele[:].vol2.T;
  T_m[:] = ele[:].mas.T;
  <span style="color: red">connect</span>(masFloSen_1.m_flow, hA.m1_flow);
  <span style="color: red">connect</span>(port_a2, masFloSen_2.port_a);
  <span style="color: red">connect</span>(masFloSen_2.port_b, temSen_2.port_a);
  <span style="color: red">connect</span>(temSen_2.T, hA.T_2);
  <span style="color: red">connect</span>(masFloSen_2.m_flow, hA.m2_flow);
  <span style="color: red">connect</span>(hA.hA_1, gai_1.u);
  <span style="color: red">connect</span>(hA.hA_2, gai_2.u);
  <span style="color: red">connect</span>(port_a1, masFloSen_1.port_a);
  <span style="color: red">connect</span>(masFloSen_1.port_b, temSen_1.port_a);
  <span style="color: red">connect</span>(temSen_1.T, hA.T_1);
  <span style="color: red">connect</span>(temSen_1.port_b, ele[1].port_a1);

  <span style="color: red">connect</span>(ele[nEle].port_b1, port_b1);
  <span style="color: red">connect</span>(temSen_2.port_b, ele[nEle].port_a2);
  <span style="color: red">connect</span>(ele[1].port_b2, port_b2);
  <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle - 1<span style="color: blue"> loop</span>
    <span style="color: red">connect</span>(ele[i].port_b1, ele[i + 1].port_a1);
    <span style="color: red">connect</span>(ele[i].port_a2, ele[i + 1].port_b2);
  <span style="color: blue">end for</span>;

  <span style="color: red">connect</span>(gai_1.y, rep1.u);
  <span style="color: red">connect</span>(rep1.y, ele.Gc_1);
  <span style="color: red">connect</span>(gai_2.y, rep2.u);
  <span style="color: red">connect</span>(rep2.y, ele.Gc_2);
<span style="color: blue">end </span>DryCoilCounterFlow;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DryCoilDiscretized<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha49e904f1a46cb934tizedI.png" alt="Buildings.Fluid.HeatExchangers.DryCoilDiscretized" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DryCoilDiscretized"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.DryCoilDiscretized</h2>
<p>
<b>Coil with discretization along the flow paths and no humidity condensation</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha49e904f1a46cb934tizedD.png" alt="Buildings.Fluid.HeatExchangers.DryCoilDiscretized">
</p>
<h3>Information</h3>

<p>
Model of a discretized coil with no water vapor condensation.
The coil consists of <code>nReg</code> registers
that are perpendicular to the air flow path. Each register consists of <code>nPipPar</code>
parallel pipes, and each pipe can be divided into <code>nPipSeg</code> pipe segments along
the pipe length. Thus, the smallest element of the coil consists of a pipe 
segment. Each pipe segment is modeled by an instance of
<a href="modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElement">
Buildings.Fluid.HeatExchangers.BaseClasses.HexElement</a>.
Each element has a state variable for the metal. Depending
on the value of the boolean parameters <code>steadyState_1</code> and
<code>steadyState_2</code>, the fluid states are modeled dynamically or in steady
state.
If the parameter <code>steadyStateDuctConnection</code> is set the <code>false</code>, then
a mixing volume of length <code>dl</code> is added to the duct connection. This can
help reducing the dimension of the nonlinear system of equations.
</p>
<p>
The convective heat transfer coefficients can, for each fluid individually, be 
computed as a function of the flow rate and/or the temperature,
or assigned to a constant. This computation is done using an instance of
<a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>
Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil</a>.
</p>
<p>
In this model, the water (or liquid) flow path
needs to be connected to <code>port_a1</code> and <code>port_b1</code>, and
the air flow path need to be connected to the other two ports.
</p>
<p>
To model humidity condensation, use the model 
<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.WetCoilDiscretized"
>
Buildings.Fluid.HeatExchangers.WetCoilDiscretized</a> instead of this model, as
this model computes only sensible heat transfer.
</p>

<p>Extends from <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.PartialFourPortInterface"
>Fluid.Interfaces.PartialFourPortInterface</a> (Partial model transporting fluid between two ports without storing mass or energy), <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters</a> (Parameters for flow resistance for models with four ports).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium1</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 1 in the component</td></tr>
<tr><td colspan="2">replaceable package Medium2</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 2 in the component</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</a></td><td>UA_nominal</td><td>&nbsp;</td><td>Thermal conductance at nominal flow, used to compute heat capacity [W/K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau1</td><td>20</td><td>Time constant at nominal flow for medium 1 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau2</td><td>1</td><td>Time constant at nominal flow for medium 2 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau_m</td><td>20</td><td>Time constant of metal at nominal UA value [s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow.start</td><td>0</td><td>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1.start</td><td>0</td><td>Pressure difference between port_a1 and port_b1 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow.start</td><td>0</td><td>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2.start</td><td>0</td><td>Pressure difference between port_a2 and port_b2 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mStart_flow_a1</td><td>m1_flow_nominal</td><td>Guess value for mass flow rate at port_a1 [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mStart_flow_a2</td><td>m2_flow_nominal</td><td>Guess value for mass flow rate at port_a2 [kg/s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Geometry</td></tr>
<tr><td>Integer</td><td>nReg</td><td>2</td><td>Number of registers</td></tr>
<tr><td>Integer</td><td>nPipPar</td><td>3</td><td>Number of parallel pipes in each register</td></tr>
<tr><td>Integer</td><td>nPipSeg</td><td>4</td><td>Number of pipe segments per register used for discretization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dh1</td><td>0.025</td><td>Hydraulic diameter for a single pipe [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dh2</td><td>1</td><td>Hydraulic diameter for duct [m]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal1</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr><td>Boolean</td><td>allowFlowReversal2</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port a1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port b1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port a2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port b2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_small</td><td>1E-4*abs(m1_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_small</td><td>1E-4*abs(m2_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>use_dh1</td><td>false</td><td>Set to true to specify hydraulic diameter for pipe pressure drop</td></tr>
<tr><td>Boolean</td><td>use_dh2</td><td>false</td><td>Set to true to specify hydraulic diameter for duct pressure drop)</td></tr>
<tr><td>Real</td><td>ReC_1</td><td>4000</td><td>Reynolds number where transition to turbulent starts inside pipes</td></tr>
<tr><td>Real</td><td>ReC_2</td><td>4000</td><td>Reynolds number where transition to turbulent starts inside ducts</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 1</td></tr>
<tr><td>Boolean</td><td>computeFlowResistance1</td><td>true</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp1</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance1</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM1</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 2</td></tr>
<tr><td>Boolean</td><td>computeFlowResistance2</td><td>true</td><td>=true, compute flow resistance. Set to false to assume no friction</td></tr>
<tr><td>Boolean</td><td>from_dp2</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance2</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM2</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics1</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 1</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics2</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 2</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>ductConnectionDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for duct connection</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dl</td><td>0.3</td><td>Length of mixing volume for duct connection [m]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Heat transfer</b></td></tr>
<tr><td>Boolean</td><td>waterSideFlowDependent</td><td>false</td><td>Set to false to make water-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>airSideFlowDependent</td><td>false</td><td>Set to false to make air-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>waterSideTemperatureDependent</td><td>false</td><td>Set to false to make water-side hA independent of temperature</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a1</td><td>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b1</td><td>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a2</td><td>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b2</td><td>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> DryCoilDiscretized <span style="color: #006400">
  &quot;Coil with discretization along the flow paths and no humidity condensation&quot;</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.PartialFourPortInterface"
>Fluid.Interfaces.PartialFourPortInterface</a>(show_T=false);
  <span style="color: blue">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters"
>Buildings.Fluid.Interfaces.FourPortFlowResistanceParameters</a>(
    <span style="color: blue">final </span>computeFlowResistance1=true,
    <span style="color: blue">final </span>computeFlowResistance2=true,
    from_dp1 = false,
    from_dp2 = false);

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> UA_nominal(min=0) <span style="color: #006400">
    &quot;Thermal conductance at nominal flow, used to compute heat capacity&quot;</span>;
  <span style="color: blue">parameter </span>Integer nReg(min=2)=2 <span style="color: #006400">&quot;Number of registers&quot;</span>;
  <span style="color: blue">parameter </span>Integer nPipPar(min=1) = 3 <span style="color: #006400">
    &quot;Number of parallel pipes in each register&quot;</span>;
  <span style="color: blue">parameter </span>Integer nPipSeg(min=1) = 4 <span style="color: #006400">
    &quot;Number of pipe segments per register used for discretization&quot;</span>;
  <span style="color: blue">parameter </span>Boolean use_dh1 = false <span style="color: #006400">
    &quot;Set to true to specify hydraulic diameter for pipe pressure drop&quot;</span>;
  <span style="color: blue">parameter </span>Boolean use_dh2 = false <span style="color: #006400">
    &quot;Set to true to specify hydraulic diameter for duct pressure drop)&quot;</span>;

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</a> energyDynamics1=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <span style="color: #006400">
    &quot;Default formulation of energy balances for volume 1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</a> energyDynamics2=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <span style="color: #006400">
    &quot;Default formulation of energy balances for volume 2&quot;</span>;

  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister"
>Buildings.Fluid.HeatExchangers.BaseClasses.CoilRegister</a> hexReg[nReg](
    <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">package</span> Medium1 = Medium1,
    <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">package</span> Medium2 = Medium2,
    <span style="color: blue">each </span><span style="color: blue">final </span>allowFlowReversal1=allowFlowReversal1,
    <span style="color: blue">each </span><span style="color: blue">final </span>allowFlowReversal2=allowFlowReversal2,
    <span style="color: blue">each </span><span style="color: blue">final </span>nPipPar=nPipPar,
    <span style="color: blue">each </span><span style="color: blue">final </span>nPipSeg=nPipSeg,
    <span style="color: blue">each </span><span style="color: blue">final </span>m1_flow_nominal=m1_flow_nominal/nPipPar,
    <span style="color: blue">each </span><span style="color: blue">final </span>m2_flow_nominal=m1_flow_nominal/nPipPar/nPipSeg,
    <span style="color: blue">each </span>tau1=tau1,
    <span style="color: blue">each </span>tau2=tau2,
    <span style="color: blue">each </span>tau_m=tau_m,
    <span style="color: blue">each </span><span style="color: blue">final </span>energyDynamics1=energyDynamics1,
    <span style="color: blue">each </span><span style="color: blue">final </span>energyDynamics2=energyDynamics2,
    <span style="color: blue">each </span>from_dp1=from_dp1,
    <span style="color: blue">each </span>linearizeFlowResistance1=linearizeFlowResistance1,
    <span style="color: blue">each </span>deltaM1=deltaM1,
    <span style="color: blue">each </span>from_dp2=from_dp2,
    <span style="color: blue">each </span>linearizeFlowResistance2=linearizeFlowResistance2,
    <span style="color: blue">each </span>deltaM2=deltaM2,
    <span style="color: blue">each </span>dp1_nominal=0,
    <span style="color: blue">each </span>dp2_nominal=0,
    <span style="color: blue">each </span><span style="color: blue">final </span>UA_nominal=UA_nominal/nReg) <span style="color: #006400">&quot;Heat exchanger register&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance"
>Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldFixedResistance</a>
    pipMan_a(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>,
    <span style="color: blue">final </span>nPipPar=nPipPar,
    <span style="color: blue">final </span>m_flow_nominal=m1_flow_nominal,
    <span style="color: blue">final </span>dp_nominal=dp1_nominal,
    <span style="color: blue">final </span>dh=dh1,
    <span style="color: blue">final </span>ReC=ReC_1,
    <span style="color: blue">final </span>mStart_flow_a=mStart_flow_a1,
    <span style="color: blue">final </span>linearized=linearizeFlowResistance1,
    <span style="color: blue">final </span>use_dh=use_dh1,
    <span style="color: blue">final </span>deltaM=deltaM1,
    <span style="color: blue">final </span>from_dp=from_dp1,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal1) <span style="color: #006400">&quot;Pipe manifold at port a&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance"
>Buildings.Fluid.HeatExchangers.BaseClasses.PipeManifoldNoResistance</a> pipMan_b(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>,
    <span style="color: blue">final </span>nPipPar=nPipPar,
    <span style="color: blue">final </span>mStart_flow_a=-mStart_flow_a1,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal1) <span style="color: #006400">&quot;Pipe manifold at port b&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance"
>Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldNoResistance</a> ducMan_b(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</a>,
    <span style="color: blue">final </span>nPipPar=nPipPar,
    <span style="color: blue">final </span>nPipSeg=nPipSeg,
    <span style="color: blue">final </span>mStart_flow_a=-mStart_flow_a2,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal2) <span style="color: #006400">&quot;Duct manifold at port b&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance"
>Buildings.Fluid.HeatExchangers.BaseClasses.DuctManifoldFixedResistance</a>
    ducMan_a(
    <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</a>,
    <span style="color: blue">final </span>nPipPar = nPipPar,
    <span style="color: blue">final </span>nPipSeg = nPipSeg,
    <span style="color: blue">final </span>m_flow_nominal=m2_flow_nominal,
    <span style="color: blue">final </span>dp_nominal=dp2_nominal,
    <span style="color: blue">final </span>dh=dh2,
    <span style="color: blue">final </span>ReC=ReC_2,
    <span style="color: blue">final </span>dl=dl,
    <span style="color: blue">final </span>mStart_flow_a=mStart_flow_a2,
    <span style="color: blue">final </span>linearized=linearizeFlowResistance2,
    <span style="color: blue">final </span>use_dh=use_dh2,
    <span style="color: blue">final </span>deltaM=deltaM2,
    <span style="color: blue">final </span>from_dp=from_dp2,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal2,
    <span style="color: blue">final </span>energyDynamics=ductConnectionDynamics) <span style="color: #006400">&quot;Duct manifold at port a&quot;</span>;
<span style="color: blue">public </span>
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> dh1=0.025 <span style="color: #006400">
    &quot;Hydraulic diameter for a single pipe&quot;</span>;
  <span style="color: blue">parameter </span>Real ReC_1=4000 <span style="color: #006400">
    &quot;Reynolds number where transition to turbulent starts inside pipes&quot;</span>;
  <span style="color: blue">parameter </span>Real ReC_2=4000 <span style="color: #006400">
    &quot;Reynolds number where transition to turbulent starts inside ducts&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> m1_flow_nominal <span style="color: #006400">
    &quot;Mass flow rate at port_a1 for all pipes&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> dh2=1 <span style="color: #006400">&quot;Hydraulic diameter for duct&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> Q1_flow <span style="color: #006400">
    &quot;Heat transfered from solid into medium 1&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> Q2_flow <span style="color: #006400">
    &quot;Heat transfered from solid into medium 2&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> tau1=20 <span style="color: #006400">
    &quot;Time constant at nominal flow for medium 1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> tau2=1 <span style="color: #006400">
    &quot;Time constant at nominal flow for medium 2&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Modelica.SIunits.Time</a> tau_m=20 <span style="color: #006400">
    &quot;Time constant of metal at nominal UA value&quot;</span>;

<span style="color: blue">protected </span>
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader"
>BaseClasses.CoilHeader</a> hea1[<span style="color: red">div</span>(nReg,2)](
      <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">final </span><span style="color: blue">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>,
      <span style="color: blue">each </span><span style="color: blue">final </span>nPipPar = nPipPar,
      <span style="color: blue">each </span><span style="color: blue">final </span>mStart_flow_a=mStart_flow_a1,
      <span style="color: blue">each </span>allowFlowReversal=allowFlowReversal1) <span style="color: blue">if </span>
      nReg &gt; 1 <span style="color: #006400">&quot;Pipe header to redirect flow into next register&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.CoilHeader"
>BaseClasses.CoilHeader</a> hea2[<span style="color: red">div</span>(nReg,2)-1](
      <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">final </span><span style="color: blue">package</span> Medium = <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>,
      <span style="color: blue">each </span><span style="color: blue">final </span>nPipPar = nPipPar,
      <span style="color: blue">each </span><span style="color: blue">final </span>mStart_flow_a=mStart_flow_a1,
      <span style="color: blue">each </span>allowFlowReversal=allowFlowReversal1) <span style="color: blue">if </span>
      nReg &gt; 2 <span style="color: #006400">&quot;Pipe header to redirect flow into next register&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gai_1(k=1/nReg) <span style="color: #006400">
    &quot;Gain medium-side 1 to take discretization into account&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gai_2(k=1/nReg) <span style="color: #006400">
    &quot;Gain medium-side 2 to take discretization into account&quot;</span>;
<span style="color: blue">public </span>
  <span style="color: blue">parameter </span>Boolean waterSideFlowDependent = false <span style="color: #006400">
    &quot;Set to false to make water-side hA independent of mass flow rate&quot;</span>;
  <span style="color: blue">parameter </span>Boolean airSideFlowDependent = false <span style="color: #006400">
    &quot;Set to false to make air-side hA independent of mass flow rate&quot;</span>;
  <span style="color: blue">parameter </span>Boolean waterSideTemperatureDependent = false <span style="color: #006400">
    &quot;Set to false to make water-side hA independent of temperature&quot;</span>;
  <span style="color: blue">constant </span>Boolean airSideTemperatureDependent = false <span style="color: #006400">
    &quot;Set to false to make air-side hA independent of temperature&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>BaseClasses.HADryCoil</a> hA(
    <span style="color: blue">final </span>UA_nominal=UA_nominal,
    <span style="color: blue">final </span>m_flow_nominal_a=m2_flow_nominal,
    <span style="color: blue">final </span>m_flow_nominal_w=m1_flow_nominal,
    <span style="color: blue">final </span>waterSideTemperatureDependent=waterSideTemperatureDependent,
    <span style="color: blue">final </span>waterSideFlowDependent=waterSideFlowDependent,
    <span style="color: blue">final </span>airSideTemperatureDependent=airSideTemperatureDependent,
    <span style="color: blue">final </span>airSideFlowDependent=airSideFlowDependent) <span style="color: #006400">
    &quot;Model for convective heat transfer coefficient&quot;</span>;
<span style="color: blue">protected </span>
  <span style="color: blue">constant </span>Boolean allowCondensation = false <span style="color: #006400">
    &quot;Set to false to compute sensible heat transfer only&quot;</span>;

<span style="color: blue">protected </span>
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temSen_1(
                                              <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal1,
    m_flow_nominal=m1_flow_nominal) <span style="color: #006400">&quot;Temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</a> masFloSen_1(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        <a href="Buildings_Fluid_Interfaces_Medium1.html#Buildings.Fluid.Interfaces.FourPort.Medium1"
>Medium1</a>, <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal1) <span style="color: #006400">
    &quot;Mass flow rate sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.TemperatureTwoPort"
>Buildings.Fluid.Sensors.TemperatureTwoPort</a> temSen_2(
                                              <span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        <a href="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</a>,
    m_flow_nominal=m2_flow_nominal,
    <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal2) <span style="color: #006400">&quot;Temperature sensor&quot;</span>;
  <a href="Buildings_Fluid_Sensors.html#Buildings.Fluid.Sensors.MassFlowRate"
>Buildings.Fluid.Sensors.MassFlowRate</a> masFloSen_2(<span style="color: blue">redeclare </span><span style="color: blue">package</span> Medium =
        <a href="Buildings_Fluid_Interfaces_Medium2.html#Buildings.Fluid.Interfaces.FourPort.Medium2"
>Medium2</a>, <span style="color: blue">final </span>allowFlowReversal=allowFlowReversal2) <span style="color: #006400">
    &quot;Mass flow rate sensor&quot;</span>;
<span style="color: blue">public </span>
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Modelica.Fluid.Types.Dynamics</a> ductConnectionDynamics=
    Modelica.Fluid.Types.Dynamics.DynamicFreeInitial <span style="color: #006400">
    &quot;Default formulation of energy balances for duct connection&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Modelica.SIunits.Length</a> dl=0.3 <span style="color: #006400">
    &quot;Length of mixing volume for duct connection&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mStart_flow_a1=m1_flow_nominal <span style="color: #006400">
    &quot;Guess value for mass flow rate at port_a1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mStart_flow_a2=m2_flow_nominal <span style="color: #006400">
    &quot;Guess value for mass flow rate at port_a2&quot;</span>;
<span style="color: blue">initial </span><span style="color: blue">equation </span>
  <span style="color: red">assert</span>(UA_nominal&gt;0,     &quot;Parameter UA_nominal is negative. Check heat exchanger parameters.&quot;);
<span style="color: blue">equation </span>
  Q1_flow =<span style="color: red"> sum</span>(hexReg[i].Q1_flow <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nReg);
  Q2_flow =<span style="color: red"> sum</span>(hexReg[i].Q2_flow <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nReg);

  <span style="color: #006400">// air stream connections</span>
  <span style="color: blue">for </span>i<span style="color: blue"> in </span>2:nReg<span style="color: blue"> loop</span>
    <span style="color: red">connect</span>(hexReg[i].port_a2, hexReg[i-1].port_b2);
  <span style="color: blue">end for</span>;
  <span style="color: red">connect</span>(ducMan_a.port_b, hexReg[1].port_a2);
  <span style="color: red">connect</span>(hexReg[nReg].port_b2, ducMan_b.port_b);
  <span style="color: red">connect</span>(pipMan_a.port_b, hexReg[1].port_a1);
  <span style="color: red">connect</span>(hexReg[nReg].port_a1, pipMan_b.port_b);
  <span style="color: red">connect</span>(pipMan_b.port_a, port_b1);
  <span style="color: red">connect</span>(ducMan_b.port_a, port_b2);
  <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:2:nReg<span style="color: blue"> loop</span>

  <span style="color: #006400">// header after first hex register</span>
    <span style="color: red">connect</span>(hexReg[i].port_b1, hea1[<span style="color: red">div</span>((i+1),2)].port_a);
    <span style="color: red">connect</span>(hea1[<span style="color: red">div</span>((i+1),2)].port_b, hexReg[i+1].port_b1);
  <span style="color: blue">end for</span>;
  <span style="color: #006400">// header after 2nd hex register</span>
  <span style="color: blue">for </span>i<span style="color: blue"> in </span>2:2:(nReg-1)<span style="color: blue"> loop</span>
    <span style="color: red">connect</span>(hexReg[i].port_a1, hea2[<span style="color: red">div</span>(i,2)].port_a);
    <span style="color: red">connect</span>(hea2[<span style="color: red">div</span>(i,2)].port_b, hexReg[i+1].port_a1);
  <span style="color: blue">end for</span>;
  <span style="color: red">connect</span>(masFloSen_1.m_flow, hA.m1_flow);
  <span style="color: red">connect</span>(port_a2, masFloSen_2.port_a);
  <span style="color: red">connect</span>(masFloSen_2.port_b, temSen_2.port_a);
  <span style="color: red">connect</span>(temSen_2.port_b, ducMan_a.port_a);
  <span style="color: red">connect</span>(temSen_2.T, hA.T_2);
  <span style="color: red">connect</span>(masFloSen_2.m_flow, hA.m2_flow);
  <span style="color: red">connect</span>(hA.hA_1, gai_1.u);
  <span style="color: red">connect</span>(hA.hA_2, gai_2.u);
  <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nReg<span style="color: blue"> loop</span>
    <span style="color: red">connect</span>(gai_1.y, hexReg[i].Gc_1);
    <span style="color: red">connect</span>(gai_2.y, hexReg[i].Gc_2);
  <span style="color: blue">end for</span>;
  <span style="color: red">connect</span>(port_a1, masFloSen_1.port_a);
  <span style="color: red">connect</span>(masFloSen_1.port_b, temSen_1.port_a);
  <span style="color: red">connect</span>(temSen_1.port_b, pipMan_a.port_a);
  <span style="color: red">connect</span>(temSen_1.T, hA.T_1);
<span style="color: blue">end </span>DryCoilDiscretized;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE DryEffectivenessNTU<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha0ebf5c2de1c46b25ssNTUI.png" alt="Buildings.Fluid.HeatExchangers.DryEffectivenessNTU" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.DryEffectivenessNTU"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.DryEffectivenessNTU</h2>
<p>
<b>Heat exchanger with effectiveness - NTU relation and no moisture condensation</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha0ebf5c2de1c46b25ssNTUD.png" alt="Buildings.Fluid.HeatExchangers.DryEffectivenessNTU">
</p>
<h3>Information</h3>

<p>
Model of a heat exchanger without humidity condensation. 
This model transfers heat in the amount of 
</p>
<p align="center" style="font-style:italic;">
  Q = Q<sub>max</sub>  &epsilon;<br/>
  &epsilon; = f(NTU, Z, flowRegime),
</p>
<p>
where
<i>Q<sub>max</sub></i> is the maximum heat that can be transferred,
<i>&epsilon;</i> is the heat transfer effectiveness, 
<i>NTU</i> is the Number of Transfer Units,
<i>Z</i> is the ratio of minimum to maximum capacity flow rate and
<i>flowRegime</i> is the heat exchanger flow regime.
such as
parallel flow, cross flow or counter flow.
</p>
<p>
The flow regimes depend on the heat exchanger configuration. All configurations
defined in
<a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerConfiguration"
>
Buildings.Fluid.Types.HeatExchangerConfiguration</a>
are supported.
</p>
<p>
For a heat and moisture exchanger, use
<a href="Buildings_Fluid_MassExchangers.html#Buildings.Fluid.MassExchangers.ConstantEffectiveness"
>
Buildings.Fluid.MassExchangers.ConstantEffectiveness</a>
instead of this model.
</p>

<p>Extends from <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness</a> (Partial model to implement heat exchangers based on effectiveness model).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium1</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 1 in the component</td></tr>
<tr><td colspan="2">replaceable package Medium2</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 2 in the component</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>Q1_flow</td><td>eps*QMax_flow</td><td>Heat transfered into the medium 1 [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>mWat1_flow</td><td>0</td><td>Moisture mass flow rate added to the medium 1 [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>Q2_flow</td><td>-Q1_flow</td><td>Heat transfered into the medium 2 [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>mWat2_flow</td><td>0</td><td>Moisture mass flow rate added to the medium 2 [kg/s]</td></tr>
<tr><td>Boolean</td><td>sensibleOnly1</td><td>true</td><td>Set to true if sensible exchange only for medium 1</td></tr>
<tr><td>Boolean</td><td>sensibleOnly2</td><td>true</td><td>Set to true if sensible exchange only for medium 2</td></tr>
<tr><td><a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerConfiguration"
>HeatExchangerConfiguration</a></td><td>configuration</td><td>&nbsp;</td><td>Heat exchanger configuration</td></tr>
<tr><td>Real</td><td>r_nominal</td><td>2/3</td><td>Ratio between air-side and water-side convective heat transfer (hA-value) at nominal condition</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>Q_flow_nominal</td><td>&nbsp;</td><td>Nominal heat transfer [W]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_a1_nominal</td><td>&nbsp;</td><td>Nominal temperature at port a1 [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Temperature</a></td><td>T_a2_nominal</td><td>&nbsp;</td><td>Nominal temperature at port a2 [K]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow.start</td><td>0</td><td>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1.start</td><td>0</td><td>Pressure difference between port_a1 and port_b1 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow.start</td><td>0</td><td>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2.start</td><td>0</td><td>Pressure difference between port_a2 and port_b2 [Pa]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal1</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr><td>Boolean</td><td>allowFlowReversal2</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port a1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port b1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port a2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port b2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_small</td><td>1E-4*abs(m1_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_small</td><td>1E-4*abs(m2_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 1</td></tr>
<tr><td>Boolean</td><td>from_dp1</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance1</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM1</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 2</td></tr>
<tr><td>Boolean</td><td>from_dp2</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance2</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM2</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a1</td><td>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b1</td><td>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a2</td><td>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b2</td><td>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> DryEffectivenessNTU <span style="color: #006400">
  &quot;Heat exchanger with effectiveness - NTU relation and no moisture condensation&quot;</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness"
>Buildings.Fluid.HeatExchangers.BaseClasses.PartialEffectiveness</a>(
      sensibleOnly1=true, sensibleOnly2=true,
      Q1_flow = eps*QMax_flow,
      Q2_flow = -Q1_flow,
      mWat1_flow = 0,
      mWat2_flow = 0);
  <span style="color: blue">import </span>con = <a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerConfiguration"
>Buildings.Fluid.Types.HeatExchangerConfiguration</a>;
  <span style="color: blue">import </span>flo = <a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>Buildings.Fluid.Types.HeatExchangerFlowRegime</a>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> Q_flow_nominal <span style="color: #006400">
    &quot;Nominal heat transfer&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_a1_nominal <span style="color: #006400">
    &quot;Nominal temperature at port a1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_a2_nominal <span style="color: #006400">
    &quot;Nominal temperature at port a2&quot;</span>;
  <span style="color: blue">parameter </span><a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerConfiguration"
>con</a> configuration <span style="color: #006400">&quot;Heat exchanger configuration&quot;</span>;
  <span style="color: blue">parameter </span>Real r_nominal(
    min=0,
    max=1) = 2/3 <span style="color: #006400">
    &quot;Ratio between air-side and water-side convective heat transfer (hA-value) at nominal condition&quot;</span>;
  <a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil</a> hA(
    <span style="color: blue">final </span>r_nominal=r_nominal,
    <span style="color: blue">final </span>UA_nominal=UA_nominal,
    <span style="color: blue">final </span>m_flow_nominal_w=m1_flow_nominal,
    <span style="color: blue">final </span>m_flow_nominal_a=m2_flow_nominal,
    waterSideTemperatureDependent=false,
    airSideTemperatureDependent=false) <span style="color: #006400">
    &quot;Model for convective heat transfer coefficient&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> UA <span style="color: #006400">&quot;UA value&quot;</span>;
  Real eps(min=0, max=1) <span style="color: #006400">&quot;Heat exchanger effectiveness&quot;</span>;
  Real Z(min=0, max=1) <span style="color: #006400">&quot;Ratio of capacity flow rate (CMin/CMax)&quot;</span>;
  <span style="color: #006400">// NTU has been removed as NTU goes to infinity as CMin goes to zero.</span>
  <span style="color: #006400">// This quantity is not good for modeling.</span>
  <span style="color: #006400">//  Real NTU(min=0) &quot;Number of transfer units&quot;;</span>
  <span style="color: blue">final </span><span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> UA_nominal(fixed=false) <span style="color: #006400">
    &quot;Nominal UA value&quot;</span>;
  <span style="color: blue">final </span><span style="color: blue">parameter </span>Real NTU_nominal(min=0, fixed=false) <span style="color: #006400">
    &quot;Nominal number of transfer units&quot;</span>;
  <span style="color: blue">final </span><span style="color: blue">parameter </span>Real eps_nominal(fixed=false) <span style="color: #006400">
    &quot;Nominal heat transfer effectiveness&quot;</span>;
<span style="color: blue">protected </span>
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</a> cp1_nominal(fixed=false) <span style="color: #006400">
    &quot;Specific heat capacity of medium 1 at nominal condition&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificHeatCapacity"
>Modelica.SIunits.SpecificHeatCapacity</a> cp2_nominal(fixed=false) <span style="color: #006400">
    &quot;Specific heat capacity of medium 2 at nominal condition&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> C1_flow_nominal(fixed=false) <span style="color: #006400">
    &quot;Nominal capacity flow rate of Medium 1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> C2_flow_nominal(fixed=false) <span style="color: #006400">
    &quot;Nominal capacity flow rate of Medium 2&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> CMin_flow_nominal(fixed=false) <span style="color: #006400">
    &quot;Minimal capacity flow rate at nominal condition&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>Modelica.SIunits.ThermalConductance</a> CMax_flow_nominal(fixed=false) <span style="color: #006400">
    &quot;Maximum capacity flow rate at nominal condition&quot;</span>;
  <span style="color: blue">parameter </span>Real Z_nominal(
    min=0,
    max=1,
    fixed=false) <span style="color: #006400">&quot;Ratio of capacity flow rate at nominal condition&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_b1_nominal(fixed=false) <span style="color: #006400">
    &quot;Nominal temperature at port b1&quot;</span>;
  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Temperature"
>Modelica.SIunits.Temperature</a> T_b2_nominal(fixed=false) <span style="color: #006400">
    &quot;Nominal temperature at port b2&quot;</span>;
  <span style="color: blue">parameter </span><a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>flo</a> flowRegime_nominal(fixed=false) <span style="color: #006400">
    &quot;Heat exchanger flow regime at nominal flow rates&quot;</span>;
  <a href="Buildings_Fluid_Types.html#Buildings.Fluid.Types.HeatExchangerFlowRegime"
>flo</a> flowRegime(fixed=false, start=flowRegime_nominal) <span style="color: #006400">
    &quot;Heat exchanger flow regime&quot;</span>;
<span style="color: blue">initial </span><span style="color: blue">equation </span>
  <span style="color: red">assert</span>(m1_flow_nominal &gt; 0,
    &quot;m1_flow_nominal must be positive, m1_flow_nominal = &quot; +<span style="color: red"> String</span>(
    m1_flow_nominal));
  <span style="color: red">assert</span>(m2_flow_nominal &gt; 0,
    &quot;m2_flow_nominal must be positive, m2_flow_nominal = &quot; +<span style="color: red"> String</span>(
    m2_flow_nominal));
  cp1_nominal =<span style="color: red"> Medium1.specificHeatCapacityCp</span>(<span style="color: red">Medium1.setState_pTX</span>(
    Medium1.p_default,
    T_a1_nominal,
    Medium1.X_default));
  cp2_nominal =<span style="color: red"> Medium2.specificHeatCapacityCp</span>(<span style="color: red">Medium2.setState_pTX</span>(
    Medium2.p_default,
    T_a2_nominal,
    Medium2.X_default));
  <span style="color: #006400">// heat transfered from fluid 1 to 2 at nominal condition</span>
  Q_flow_nominal = m1_flow_nominal*cp1_nominal*(T_a1_nominal - T_b1_nominal);
  Q_flow_nominal = -m2_flow_nominal*cp2_nominal*(T_a2_nominal - T_b2_nominal);
  C1_flow_nominal = m1_flow_nominal*cp1_nominal;
  C2_flow_nominal = m2_flow_nominal*cp2_nominal;
  CMin_flow_nominal =<span style="color: red"> min</span>(C1_flow_nominal, C2_flow_nominal);
  CMax_flow_nominal =<span style="color: red"> max</span>(C1_flow_nominal, C2_flow_nominal);
  Z_nominal = CMin_flow_nominal/CMax_flow_nominal;
  eps_nominal =<span style="color: red"> abs</span>(Q_flow_nominal/((T_a1_nominal - T_a2_nominal)*
    CMin_flow_nominal));
  <span style="color: red">assert</span>(eps_nominal &gt; 0<span style="color: blue"> and </span>eps_nominal &lt; 1,
    &quot;eps_nominal out of bounds, eps_nominal = &quot; +<span style="color: red"> String</span>(eps_nominal) +
    &quot;\n  To achieve the required heat transfer rate at epsilon=0.8, set |T_a1_nominal-T_a2_nominal| = &quot;
     +<span style="color: red"> String</span>(<span style="color: red">abs</span>(Q_flow_nominal/0.8*CMin_flow_nominal)) +
    &quot;\n  or increase flow rates. The current parameters result in &quot; +
    &quot;\n  CMin_flow_nominal = &quot; +<span style="color: red"> String</span>(CMin_flow_nominal) +
    &quot;\n  CMax_flow_nominal = &quot; +<span style="color: red"> String</span>(CMax_flow_nominal));
  <span style="color: #006400">// Assign the flow regime for the given heat exchanger configuration and capacity flow rates</span>
  <span style="color: blue">if </span>(configuration == con.CrossFlowStream1MixedStream2Unmixed)<span style="color: blue"> then</span>
    flowRegime_nominal = <span style="color: blue">if </span>(C1_flow_nominal &lt; C2_flow_nominal)<span style="color: blue"> then </span>flo.CrossFlowCMinMixedCMaxUnmixed<span style="color: blue">
       else </span>flo.CrossFlowCMinUnmixedCMaxMixed;
  <span style="color: blue">elseif </span>(configuration == con.CrossFlowStream1UnmixedStream2Mixed)<span style="color: blue"> then</span>
    flowRegime_nominal = <span style="color: blue">if </span>(C1_flow_nominal &lt; C2_flow_nominal)<span style="color: blue"> then </span>flo.CrossFlowCMinUnmixedCMaxMixed<span style="color: blue">
       else </span>flo.CrossFlowCMinMixedCMaxUnmixed;
  <span style="color: blue">elseif </span>(configuration == con.ParallelFlow)<span style="color: blue"> then</span>
    flowRegime_nominal = flo.ParallelFlow;
  <span style="color: blue">elseif </span>(configuration == con.CounterFlow)<span style="color: blue"> then</span>
    flowRegime_nominal = flo.CounterFlow;
  <span style="color: blue">elseif </span>(configuration == con.CrossFlowUnmixed)<span style="color: blue"> then</span>
    flowRegime_nominal = flo.CrossFlowUnmixed;
  <span style="color: blue">else</span>
    <span style="color: #006400">// Invalid flow regime. Assign a value to flowRegime_nominal, and stop with an assert</span>
    flowRegime_nominal = flo.CrossFlowUnmixed;
    <span style="color: red">assert</span>(configuration &gt;= con.ParallelFlow<span style="color: blue"> and </span>configuration &lt;= con.CrossFlowStream1UnmixedStream2Mixed,
      &quot;Invalid heat exchanger configuration.&quot;);
  <span style="color: blue">end if</span>;
  <span style="color: #006400">// The equation sorter of Dymola 7.3 does not guarantee that the above assert is tested prior to the</span>
  <span style="color: #006400">// function call on the next line. Thus, we add the test on eps_nominal to avoid an error in ntu_epsilonZ</span>
  <span style="color: #006400">// for invalid input arguments</span>
  NTU_nominal = <span style="color: blue">if </span>(eps_nominal &gt; 0<span style="color: blue"> and </span>eps_nominal &lt; 1)<span style="color: blue"> then </span>
    <span style="color: red">Buildings.Fluid.HeatExchangers.BaseClasses.ntu_epsilonZ</span>(
    eps=eps_nominal,
    Z=Z_nominal,
    flowRegime=flowRegime_nominal)<span style="color: blue"> else </span>0;
  UA_nominal = NTU_nominal*CMin_flow_nominal;
<span style="color: blue">equation </span>
  <span style="color: #006400">// Assign the flow regime for the given heat exchanger configuration and capacity flow rates</span>
  <span style="color: blue">if </span>(configuration == con.ParallelFlow)<span style="color: blue"> then</span>
    flowRegime = <span style="color: blue">if </span>(C1_flow*C2_flow &gt;= 0)<span style="color: blue"> then </span>flo.ParallelFlow<span style="color: blue"> else </span>flo.CounterFlow;
  <span style="color: blue">elseif </span>(configuration == con.CounterFlow)<span style="color: blue"> then</span>
    flowRegime = <span style="color: blue">if </span>(C1_flow*C2_flow &gt;= 0)<span style="color: blue"> then </span>flo.CounterFlow<span style="color: blue"> else </span>flo.ParallelFlow;
  <span style="color: blue">elseif </span>(configuration == con.CrossFlowUnmixed)<span style="color: blue"> then</span>
    flowRegime = flo.CrossFlowUnmixed;
  <span style="color: blue">elseif </span>(configuration == con.CrossFlowStream1MixedStream2Unmixed)<span style="color: blue"> then</span>
    flowRegime = <span style="color: blue">if </span>(C1_flow &lt; C2_flow)<span style="color: blue"> then </span>flo.CrossFlowCMinMixedCMaxUnmixed<span style="color: blue">
       else </span>flo.CrossFlowCMinUnmixedCMaxMixed;
  <span style="color: blue">else</span>
    <span style="color: #006400">// have ( configuration == con.CrossFlowStream1UnmixedStream2Mixed)</span>
    flowRegime = <span style="color: blue">if </span>(C1_flow &lt; C2_flow)<span style="color: blue"> then </span>flo.CrossFlowCMinUnmixedCMaxMixed<span style="color: blue">
       else </span>flo.CrossFlowCMinMixedCMaxUnmixed;
  <span style="color: blue">end if</span>;
  <span style="color: #006400">// Convective heat transfer coefficient</span>
  hA.m1_flow = m1_flow;
  hA.m2_flow = m2_flow;
  hA.T_1 = T_in1;
  hA.T_2 = T_in2;
  UA = 1/(1/hA.hA_1 + 1/hA.hA_2);
  <span style="color: #006400">// effectiveness</span>
  (eps,Z) =<span style="color: red"> Buildings.Fluid.HeatExchangers.BaseClasses.epsilon_C</span>(
    UA=UA,
    C1_flow=C1_flow,
    C2_flow=C2_flow,
    flowRegime=flowRegime,
    CMin_flow_nominal=CMin_flow_nominal,
    CMax_flow_nominal=CMax_flow_nominal,
    delta=delta);
<span style="color: blue">end </span>DryEffectivenessNTU;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE HeaterCoolerPrescribed<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExchaf13a6bf1f04387dcribedI.png" alt="Buildings.Fluid.HeatExchangers.HeaterCoolerPrescribed" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.HeaterCoolerPrescribed"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.HeaterCoolerPrescribed</h2>
<p>
<b>Heater or cooler with prescribed heat flow rate</b>
<br>
<br><img src="Buildings.Fluid.HeatExchaf13a6bf1f04387dcribedD.png" alt="Buildings.Fluid.HeatExchangers.HeaterCoolerPrescribed">
</p>
<h3>Information</h3>

<p>
Model for an ideal heater or cooler with prescribed heat flow rate to the medium.
</p>
<p>
This model adds heat in the amount of <code>Q_flow = u Q_flow_nominal</code> to the medium.
The input signal <code>u</code> and the nominal heat flow rate <code>Q_flow_nominal</code> 
can be positive or negative.
</p>

<p>Extends from <a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.TwoPortHeatMassExchanger"
>Buildings.Fluid.Interfaces.TwoPortHeatMassExchanger</a> (Partial model transporting one fluid stream with storing mass or energy).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium in the component</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>HeatFlowRate</a></td><td>Q_flow_nominal</td><td>&nbsp;</td><td>Heat flow rate at u=1, positive for heating [W]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow.start</td><td>0</td><td>Mass flow rate from port_a to port_b (m_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp.start</td><td>0</td><td>Pressure difference between port_a and port_b [Pa]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m_flow_small</td><td>1E-4*abs(m_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>homotopyInitialization</td><td>true</td><td>= true, use homotopy method</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr><td>Boolean</td><td>from_dp</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau</td><td>30</td><td>Time constant at nominal flow (if energyDynamics &lt;&gt; SteadyState) [s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Formulation of energy balance</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>massDynamics</td><td>energyDynamics</td><td>Formulation of mass balance</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Initialization</b></td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.AbsolutePressure"
>AbsolutePressure</a></td><td>p_start</td><td>Medium.p_default</td><td>Start value of pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.Temperature"
>Temperature</a></td><td>T_start</td><td>Medium.T_default</td><td>Start value of temperature [K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.MassFraction"
>MassFraction</a></td><td>X_start[Medium.nX]</td><td>Medium.X_default</td><td>Start value of mass fractions m_i/m [kg/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_Types.html#Modelica.Media.Interfaces.Types.ExtraProperty"
>ExtraProperty</a></td><td>C_start[Medium.nC]</td><td>fill(0, Medium.nC)</td><td>Start value of trace substances</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a</td><td>Fluid connector a (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b</td><td>Fluid connector b (positive design flow direction is from port_a to port_b)</td></tr>
<tr><td>input <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>RealInput</a></td><td>u</td><td>Control input</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> HeaterCoolerPrescribed <span style="color: #006400">
  &quot;Heater or cooler with prescribed heat flow rate&quot;</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_Interfaces.html#Buildings.Fluid.Interfaces.TwoPortHeatMassExchanger"
>Buildings.Fluid.Interfaces.TwoPortHeatMassExchanger</a>(
    <span style="color: blue">redeclare </span><span style="color: blue">final </span><a href="Buildings_Fluid_MixingVolumes.html#Buildings.Fluid.MixingVolumes.MixingVolume"
>Buildings.Fluid.MixingVolumes.MixingVolume</a> vol,
    <span style="color: blue">final </span>showDesignFlowDirection=false);

  <span style="color: blue">parameter </span><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> Q_flow_nominal <span style="color: #006400">
    &quot;Heat flow rate at u=1, positive for heating&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Interfaces.html#Modelica.Blocks.Interfaces.RealInput"
>Modelica.Blocks.Interfaces.RealInput</a> u <span style="color: #006400">&quot;Control input&quot;</span>;
<span style="color: blue">protected </span>
  <a href="Buildings_HeatTransfer_Sources.html#Buildings.HeatTransfer.Sources.PrescribedHeatFlow"
>Buildings.HeatTransfer.Sources.PrescribedHeatFlow</a> preHea <span style="color: #006400">
    &quot;Prescribed heat flow&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_Blocks_Math.html#Modelica.Blocks.Math.Gain"
>Modelica.Blocks.Math.Gain</a> gai(k=Q_flow_nominal) <span style="color: #006400">&quot;Gain&quot;</span>;
<span style="color: blue">equation </span>
  <span style="color: red">connect</span>(u, gai.u);
  <span style="color: red">connect</span>(gai.y, preHea.Q_flow);
  <span style="color: red">connect</span>(preHea.port, vol.heatPort);
<span style="color: blue">end </span>HeaterCoolerPrescribed;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE WetCoilCounterFlow<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha84a9dffc2670ce0erFlowI.png" alt="Buildings.Fluid.HeatExchangers.WetCoilCounterFlow" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.WetCoilCounterFlow"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.WetCoilCounterFlow</h2>
<p>
<b>Counterflow coil with discretization along the flow paths and humidity condensation</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha84a9dffc2670ce0erFlowD.png" alt="Buildings.Fluid.HeatExchangers.WetCoilCounterFlow">
</p>
<h3>Information</h3>

<p>
Model of a discretized coil with water vapor condensation.
The coil consists of two flow paths which are, at the design flow direction,
in opposite direction to model a counterflow heat exchanger.
The flow paths are discretized into <code>nEle</code> elements. 
Each element is modeled by an instance of
<a href="modelica://Buildings.Fluid.HeatExchangers.BaseClasses.HexElement">
Buildings.Fluid.HeatExchangers.BaseClasses.HexElement</a>.
Each element has a state variable for the metal. Depending
on the value of the boolean parameters <code>steadyState_1</code> and
<code>steadyState_2</code>, the fluid states are modeled dynamically or in steady
state.
</p>
<p>
The convective heat transfer coefficients can, for each fluid individually, be 
computed as a function of the flow rate and/or the temperature,
or assigned to a constant. This computation is done using an instance of
<a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil"
>
Buildings.Fluid.HeatExchangers.BaseClasses.HADryCoil</a>.
</p>
<p>
In this model, the water (or liquid) flow path
needs to be connected to <code>port_a1</code> and <code>port_b1</code>, and
the air flow path needs to be connected to the other two ports.
</p>
<p>
The mass transfer from the fluid 2 to the metal is computed using a similarity law between
heat and mass transfer, as implemented by the model
<a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange"
>
Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange</a>. 
</p>
<p>
This model can only be used with medium models that
implement the function <code>enthalpyOfLiquid</code> and that contain
an integer variable <code>Water</code> whose value is the element number where
the water vapor is stored in the species concentration vector. Examples for
such media are
<a href="Buildings_Media_PerfectGases_MoistAir.html#Buildings.Media.PerfectGases.MoistAir"
>
Buildings.Media.PerfectGases.MoistAir</a> and
<a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>
Modelica.Media.Air.MoistAir</a>.
</p>
<p>
To model this coil for conditions without humidity condensation, use the model 
<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilCounterFlow"
>
Buildings.Fluid.HeatExchangers.DryCoilCounterFlow</a> instead of this model.
</p>

<p>Extends from <a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilCounterFlow"
>Buildings.Fluid.HeatExchangers.DryCoilCounterFlow</a> (Counterflow coil with discretization along the flow paths and without humidity condensation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium1</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 1 in the component</td></tr>
<tr><td colspan="2">replaceable package Medium2</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 2 in the component</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</a></td><td>UA_nominal</td><td>&nbsp;</td><td>Thermal conductance at nominal flow, used to compute heat capacity [W/K]</td></tr>
<tr><td>Real</td><td>r_nominal</td><td>2/3</td><td>Ratio between air-side and water-side convective heat transfer coefficient</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau1</td><td>20</td><td>Time constant at nominal flow for medium 1 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau2</td><td>1</td><td>Time constant at nominal flow for medium 2 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau_m</td><td>20</td><td>Time constant of metal at nominal UA value [s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow.start</td><td>0</td><td>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1.start</td><td>0</td><td>Pressure difference between port_a1 and port_b1 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow.start</td><td>0</td><td>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2.start</td><td>0</td><td>Pressure difference between port_a2 and port_b2 [Pa]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Geometry</td></tr>
<tr><td>Integer</td><td>nEle</td><td>4</td><td>Number of pipe segments used for discretization</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal1</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr><td>Boolean</td><td>allowFlowReversal2</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port a1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port b1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port a2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port b2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_small</td><td>1E-4*abs(m1_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_small</td><td>1E-4*abs(m2_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 1</td></tr>
<tr><td>Boolean</td><td>from_dp1</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance1</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM1</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 2</td></tr>
<tr><td>Boolean</td><td>from_dp2</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance2</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM2</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics1</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 1</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics2</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 2</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Heat transfer</b></td></tr>
<tr><td>Boolean</td><td>waterSideFlowDependent</td><td>true</td><td>Set to false to make water-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>airSideFlowDependent</td><td>true</td><td>Set to false to make air-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>waterSideTemperatureDependent</td><td>false</td><td>Set to false to make water-side hA independent of temperature</td></tr>
<tr><td>Boolean</td><td>airSideTemperatureDependent</td><td>false</td><td>Set to false to make air-side hA independent of temperature</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a1</td><td>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b1</td><td>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a2</td><td>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b2</td><td>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> WetCoilCounterFlow <span style="color: #006400">
  &quot;Counterflow coil with discretization along the flow paths and humidity condensation&quot;</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilCounterFlow"
>Buildings.Fluid.HeatExchangers.DryCoilCounterFlow</a>(
      <span style="color: blue">redeclare </span><span style="color: blue">each </span><span style="color: blue">final </span><a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent"
>Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>
                                                                  ele[nEle]);

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QSen2_flow <span style="color: #006400">
    &quot;Sensible heat input into air stream (negative if air is cooled)&quot;</span>;
  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.HeatFlowRate"
>Modelica.SIunits.HeatFlowRate</a> QLat2_flow <span style="color: #006400">
    &quot;Latent heat input into air (negative if air is dehumidified)&quot;</span>;
  Real SHR(
    min=0,
    max=1,
    unit=&quot;1&quot;) <span style="color: #006400">&quot;Sensible to total heat ratio&quot;</span>;

  <a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>Modelica.SIunits.MassFlowRate</a> mWat_flow <span style="color: #006400">&quot;Water flow rate&quot;</span>;

<span style="color: blue">equation </span>
  mWat_flow =<span style="color: red"> sum</span>(ele[i].vol2.mWat_flow <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle);
  QLat2_flow =<span style="color: red"> sum</span>(<span style="color: red">Medium2.enthalpyOfCondensingGas</span>(ele[i].vol2.heatPort.T)*ele[i].vol2.mWat_flow <span style="color: blue">for </span>i<span style="color: blue"> in </span>1:nEle);
  Q2_flow = QSen2_flow + QLat2_flow;
  Q2_flow*SHR = QSen2_flow;
<span style="color: blue">end </span>WetCoilCounterFlow;
</div>
<hr>
<!--[if supportFields]><span style="mso-element:field-begin"></span>
<span style="mso-spacerun:yes"></span>XE WetCoilDiscretized<![endif]-->
<!--[if supportFields]><span style="mso-element:field-end"></span><![endif]-->
<h2><img src="Buildings.Fluid.HeatExcha5f5f5806a61bd134tizedI.png" alt="Buildings.Fluid.HeatExchangers.WetCoilDiscretized" align="right" style="border: 1px solid" width="80" height="80">
<a name="Buildings.Fluid.HeatExchangers.WetCoilDiscretized"></a><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers"
>Buildings.Fluid.HeatExchangers</a>.WetCoilDiscretized</h2>
<p>
<b>Coil with discretization along the flow paths and humidity condensation</b>
<br>
<br><img src="Buildings.Fluid.HeatExcha5f5f5806a61bd134tizedD.png" alt="Buildings.Fluid.HeatExchangers.WetCoilDiscretized">
</p>
<h3>Information</h3>

<p>
Model of a discretized coil with humidity condensation.
This model is identical to 
<a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilDiscretized"
>
Buildings.Fluid.HeatExchangers.DryCoilDiscretized</a>
but in addition, the mass transfer from fluid 2 to the metal is computed.
The mass transfer is computed using a similarity law between
heat and mass transfer, as implemented by the model
<a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange"
>
Buildings.Fluid.HeatExchangers.BaseClasses.MassExchange</a>. 
See this model for details.
</p>
<p>
This model can only be used with medium models that
implement the function <code>enthalpyOfLiquid</code> and that contain
an integer variable <code>Water</code> whose value is the element number where
the water vapor is stored in the species concentration vector. Examples for
such media are
<a href="Buildings_Media_PerfectGases_MoistAir.html#Buildings.Media.PerfectGases.MoistAir"
>
Buildings.Media.PerfectGases.MoistAir</a> and
<a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Air_MoistAir.html#Modelica.Media.Air.MoistAir"
>
Modelica.Media.Air.MoistAir</a>.
</p>

<p>Extends from <a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilDiscretized"
>DryCoilDiscretized</a> (Coil with discretization along the flow paths and no humidity condensation).</p>
<h3>Parameters</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Parameters">
<tr><th>Type</th><th>Name</th><th>Default</th><th>Description</th></tr>
<tr><td colspan="2">replaceable package Medium1</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 1 in the component</td></tr>
<tr><td colspan="2">replaceable package Medium2</td><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium"
>PartialMedium</a></td><td>Medium 2 in the component</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Nominal condition</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_nominal</td><td>&nbsp;</td><td>Nominal mass flow rate [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2_nominal</td><td>&nbsp;</td><td>Pressure [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.ThermalConductance"
>ThermalConductance</a></td><td>UA_nominal</td><td>&nbsp;</td><td>Thermal conductance at nominal flow, used to compute heat capacity [W/K]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau1</td><td>20</td><td>Time constant at nominal flow for medium 1 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau2</td><td>1</td><td>Time constant at nominal flow for medium 2 [s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Time"
>Time</a></td><td>tau_m</td><td>20</td><td>Time constant of metal at nominal UA value [s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow.start</td><td>0</td><td>Mass flow rate from port_a1 to port_b1 (m1_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp1.start</td><td>0</td><td>Pressure difference between port_a1 and port_b1 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow.start</td><td>0</td><td>Mass flow rate from port_a2 to port_b2 (m2_flow &gt; 0 is design flow direction) [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Pressure"
>Pressure</a></td><td>dp2.start</td><td>0</td><td>Pressure difference between port_a2 and port_b2 [Pa]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mStart_flow_a1</td><td>m1_flow_nominal</td><td>Guess value for mass flow rate at port_a1 [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.MassFlowRate"
>MassFlowRate</a></td><td>mStart_flow_a2</td><td>m2_flow_nominal</td><td>Guess value for mass flow rate at port_a2 [kg/s]</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Geometry</td></tr>
<tr><td>Integer</td><td>nReg</td><td>2</td><td>Number of registers</td></tr>
<tr><td>Integer</td><td>nPipPar</td><td>3</td><td>Number of parallel pipes in each register</td></tr>
<tr><td>Integer</td><td>nPipSeg</td><td>4</td><td>Number of pipe segments per register used for discretization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dh1</td><td>0.025</td><td>Hydraulic diameter for a single pipe [m]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dh2</td><td>1</td><td>Hydraulic diameter for duct [m]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Assumptions</b></td></tr>
<tr><td>Boolean</td><td>allowFlowReversal1</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 1, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr><td>Boolean</td><td>allowFlowReversal2</td><td>system.allowFlowReversal</td><td>= true to allow flow reversal in medium 2, false restricts to design direction (port_a -&gt; port_b)</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Advanced</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Initialization</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port a1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b1_start</td><td>Medium1.h_default</td><td>Start value for enthalpy flowing out of port b1 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_a2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port a2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.SpecificEnthalpy"
>SpecificEnthalpy</a></td><td>h_outflow_b2_start</td><td>Medium2.h_default</td><td>Start value for enthalpy flowing out of port b2 [J/kg]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m1_flow_small</td><td>1E-4*abs(m1_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Media_Interfaces_PartialMedium.html#Modelica.Media.Interfaces.PartialMedium.MassFlowRate"
>MassFlowRate</a></td><td>m2_flow_small</td><td>1E-4*abs(m2_flow_nominal)</td><td>Small mass flow rate for regularization of zero flow [kg/s]</td></tr>
<tr><td>Boolean</td><td>use_dh1</td><td>false</td><td>Set to true to specify hydraulic diameter for pipe pressure drop</td></tr>
<tr><td>Boolean</td><td>use_dh2</td><td>false</td><td>Set to true to specify hydraulic diameter for duct pressure drop)</td></tr>
<tr><td>Real</td><td>ReC_1</td><td>4000</td><td>Reynolds number where transition to turbulent starts inside pipes</td></tr>
<tr><td>Real</td><td>ReC_2</td><td>4000</td><td>Reynolds number where transition to turbulent starts inside ducts</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Diagnostics</td></tr>
<tr><td>Boolean</td><td>show_T</td><td>false</td><td>= true, if actual temperature at port is computed</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Flow resistance</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 1</td></tr>
<tr><td>Boolean</td><td>from_dp1</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance1</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM1</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Medium 2</td></tr>
<tr><td>Boolean</td><td>from_dp2</td><td>false</td><td>= true, use m_flow = f(dp) else dp = f(m_flow)</td></tr>
<tr><td>Boolean</td><td>linearizeFlowResistance2</td><td>false</td><td>= true, use linear relation between m_flow and dp for any flow rate</td></tr>
<tr><td>Real</td><td>deltaM2</td><td>0.1</td><td>Fraction of nominal flow rate where flow transitions to laminar</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Dynamics</b></td></tr>
<tr style="background-color: #e0e0e0"><td colspan="4">Equations</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics1</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 1</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>energyDynamics2</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for volume 2</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Types.html#Modelica.Fluid.Types.Dynamics"
>Dynamics</a></td><td>ductConnectionDynamics</td><td>Modelica.Fluid.Types.Dynamic...</td><td>Default formulation of energy balances for duct connection</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_SIunits.html#Modelica.SIunits.Length"
>Length</a></td><td>dl</td><td>0.3</td><td>Length of mixing volume for duct connection [m]</td></tr>
<tr style="background-color: #c0c0c0"><td colspan="4"><b>Heat transfer</b></td></tr>
<tr><td>Boolean</td><td>waterSideFlowDependent</td><td>false</td><td>Set to false to make water-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>airSideFlowDependent</td><td>false</td><td>Set to false to make air-side hA independent of mass flow rate</td></tr>
<tr><td>Boolean</td><td>waterSideTemperatureDependent</td><td>false</td><td>Set to false to make water-side hA independent of temperature</td></tr>
</table>
<h3>Connectors</h3>
<table border="1" cellspacing="0" cellpadding="2" summary="Connectors">
<tr><th>Type</th><th>Name</th><th>Description</th></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a1</td><td>Fluid connector a1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b1</td><td>Fluid connector b1 (positive design flow direction is from port_a1 to port_b1)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_a"
>FluidPort_a</a></td><td>port_a2</td><td>Fluid connector a2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
<tr><td><a href="../../msl/Modelica%203.2.1/help/Modelica_Fluid_Interfaces.html#Modelica.Fluid.Interfaces.FluidPort_b"
>FluidPort_b</a></td><td>port_b2</td><td>Fluid connector b2 (positive design flow direction is from port_a2 to port_b2)</td></tr>
</table>
<h3>Modelica definition</h3>
<div class="modelica"><span style="color: blue">model</span> WetCoilDiscretized <span style="color: #006400">
  &quot;Coil with discretization along the flow paths and humidity condensation&quot;</span>
  <span style="color: #006400">// When replacing the volume, the Medium is constrained so that the enthalpyOfLiquid</span>
  <span style="color: #006400">// function is known. Otherwise, checkModel(...) will fail</span>
  <span style="color: blue">extends </span><a href="Buildings_Fluid_HeatExchangers.html#Buildings.Fluid.HeatExchangers.DryCoilDiscretized"
>DryCoilDiscretized</a>(
    <span style="color: blue">each </span>hexReg(<span style="color: blue">redeclare </span><span style="color: blue">final </span><a href="Buildings_Fluid_HeatExchangers_BaseClasses.html#Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent"
>Buildings.Fluid.HeatExchangers.BaseClasses.HexElementLatent</a>
                                                                    ele[nPipPar, nPipSeg]),
    temSen_1(m_flow_nominal=m1_flow_nominal),
    temSen_2(m_flow_nominal=m2_flow_nominal));

<span style="color: blue">end </span>WetCoilDiscretized;
</div>
<hr>
<address>
<a href="http://www.3ds.com/">Automatically generated</a> Thu Jun 19 10:55:24 2014.
</address>
</body>
</html>
